import{j as z}from"./jsx-runtime.D_zvdyIk.js";import{g as gf,r as E,R as Tt}from"./index.6otl1p8d.js";function fi(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Et=fi();function Ql(e){Et=e}var yn={exec:()=>null};function Z(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(we.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,t)};return r}var we={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},yf=/^(?:[ \t]*(?:\n|$))+/,vf=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,bf=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Dn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,wf=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,pi=/(?:[*+-]|\d{1,9}[.)])/,ec=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,tc=Z(ec).replace(/bull/g,pi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),xf=Z(ec).replace(/bull/g,pi).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),di=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Tf=/^[^\n]+/,mi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_f=Z(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kf=Z(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,pi).getRegex(),Cr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",gi=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Sf=Z("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",gi).replace("tag",Cr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),nc=Z(di).replace("hr",Dn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex(),Ef=Z(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",nc).getRegex(),yi={blockquote:Ef,code:vf,def:_f,fences:bf,heading:wf,hr:Dn,html:Sf,lheading:tc,list:kf,newline:yf,paragraph:nc,table:yn,text:Tf},Co=Z("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Dn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex(),Af={...yi,lheading:xf,table:Co,paragraph:Z(di).replace("hr",Dn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Co).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cr).getRegex()},Pf={...yi,html:Z(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",gi).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:yn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Z(di).replace("hr",Dn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",tc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},If=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Rf=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,rc=/^( {2,}|\\)\n(?!\s*$)/,Cf=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Mr=/[\p{P}\p{S}]/u,vi=/[\s\p{P}\p{S}]/u,sc=/[^\s\p{P}\p{S}]/u,Mf=Z(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,vi).getRegex(),ic=/(?!~)[\p{P}\p{S}]/u,Df=/(?!~)[\s\p{P}\p{S}]/u,Of=/(?:[^\s\p{P}\p{S}]|~)/u,Nf=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,oc=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$f=Z(oc,"u").replace(/punct/g,Mr).getRegex(),Lf=Z(oc,"u").replace(/punct/g,ic).getRegex(),ac="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",zf=Z(ac,"gu").replace(/notPunctSpace/g,sc).replace(/punctSpace/g,vi).replace(/punct/g,Mr).getRegex(),Vf=Z(ac,"gu").replace(/notPunctSpace/g,Of).replace(/punctSpace/g,Df).replace(/punct/g,ic).getRegex(),jf=Z("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,sc).replace(/punctSpace/g,vi).replace(/punct/g,Mr).getRegex(),Zf=Z(/\\(punct)/,"gu").replace(/punct/g,Mr).getRegex(),Ff=Z(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Bf=Z(gi).replace("(?:-->|$)","-->").getRegex(),Uf=Z("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Bf).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Wf=Z(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",dr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lc=Z(/^!?\[(label)\]\[(ref)\]/).replace("label",dr).replace("ref",mi).getRegex(),cc=Z(/^!?\[(ref)\](?:\[\])?/).replace("ref",mi).getRegex(),Gf=Z("reflink|nolink(?!\\()","g").replace("reflink",lc).replace("nolink",cc).getRegex(),bi={_backpedal:yn,anyPunctuation:Zf,autolink:Ff,blockSkip:Nf,br:rc,code:Rf,del:yn,emStrongLDelim:$f,emStrongRDelimAst:zf,emStrongRDelimUnd:jf,escape:If,link:Wf,nolink:cc,punctuation:Mf,reflink:lc,reflinkSearch:Gf,tag:Uf,text:Cf,url:yn},Hf={...bi,link:Z(/^!?\[(label)\]\((.*?)\)/).replace("label",dr).getRegex(),reflink:Z(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dr).getRegex()},Ps={...bi,emStrongRDelimAst:Vf,emStrongLDelim:Lf,url:Z(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},qf={...Ps,br:Z(rc).replace("{2,}","*").getRegex(),text:Z(Ps.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Kn={normal:yi,gfm:Af,pedantic:Pf},tn={normal:bi,gfm:Ps,breaks:qf,pedantic:Hf},Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mo=e=>Yf[e];function Ze(e,t){if(t){if(we.escapeTest.test(e))return e.replace(we.escapeReplace,Mo)}else if(we.escapeTestNoEncode.test(e))return e.replace(we.escapeReplaceNoEncode,Mo);return e}function Do(e){try{e=encodeURI(e).replace(we.percentDecode,"%")}catch{return null}return e}function Oo(e,t){const n=e.replace(we.findPipe,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(we.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(we.slashPipe,"|");return r}function nn(e,t,n){const r=e.length;if(r===0)return"";let s=0;for(;s<r&&e.charAt(r-s-1)===t;)s++;return e.slice(0,r-s)}function Kf(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function No(e,t,n,r,s){const i=t.href,o=t.title||null,a=e[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;const l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function Jf(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const s=r[1];return t.split(`
`).map(i=>{const o=i.match(n.other.beginningSpace);if(o===null)return i;const[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var mr=class{options;rules;lexer;constructor(e){this.options=e||Et}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:nn(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Jf(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=nn(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:nn(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=nn(t[0],`
`).split(`
`),r="",s="";const i=[];for(;n.length>0;){let o=!1;const a=[];let l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),o=!0;else if(!o)a.push(n[l]);else break;n=n.slice(l);const c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,s=s?`${s}
${u}`:u;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=h,n.length===0)break;const f=i.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){const d=f,p=d.raw+`
`+n.join(`
`),g=this.blockquote(p);i[i.length-1]=g,r=r.substring(0,r.length-d.raw.length)+g.raw,s=s.substring(0,s.length-d.text.length)+g.text;break}else if(f?.type==="list"){const d=f,p=d.raw+`
`+n.join(`
`),g=this.list(p);i[i.length-1]=g,r=r.substring(0,r.length-f.raw.length)+g.raw,s=s.substring(0,s.length-d.raw.length)+g.raw,n=p.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=this.rules.other.listItemRegex(n);let o=!1;for(;e;){let l=!1,c="",u="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,b=>" ".repeat(3*b.length)),f=e.split(`
`,1)[0],d=!h.trim(),p=0;if(this.options.pedantic?(p=2,u=h.trimStart()):d?p=t[1].length+1:(p=t[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=h.slice(p),p+=t[1].length),d&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,e=e.substring(f.length+1),l=!0),!l){const b=this.rules.other.nextBulletRegex(p),w=this.rules.other.hrRegex(p),m=this.rules.other.fencesBeginRegex(p),T=this.rules.other.headingBeginRegex(p),k=this.rules.other.htmlBeginRegex(p);for(;e;){const I=e.split(`
`,1)[0];let R;if(f=I,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),R=f):R=f.replace(this.rules.other.tabCharGlobal,"    "),m.test(f)||T.test(f)||k.test(f)||b.test(f)||w.test(f))break;if(R.search(this.rules.other.nonSpaceChar)>=p||!f.trim())u+=`
`+R.slice(p);else{if(d||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||m.test(h)||T.test(h)||w.test(h))break;u+=`
`+f}!d&&!f.trim()&&(d=!0),c+=I+`
`,e=e.substring(I.length+1),h=R.slice(p)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let g=null,v;this.options.gfm&&(g=this.rules.other.listIsTask.exec(u),g&&(v=g[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!g,checked:v,loose:!1,text:u,tokens:[]}),s.raw+=c}const a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const c=s.items[l].tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=u}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=Oo(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(const o of s)i.rows.push(Oo(o,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const i=nn(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{const i=Kf(t[2],"()");if(i===-2)return;if(i>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),No(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=t[r.toLowerCase()];if(!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return No(n,s,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const i=[...r[0]].length-1;let o,a,l=i,c=0;const u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+i);(r=u.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=[...o].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&i%3&&!((i+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const h=[...r[0]][0].length,f=e.slice(0,i+r.index+h+a);if(Math.min(i,a)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if(t[2]==="@")n=t[0],r="mailto:"+n;else{let s;do s=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(s!==t[0]);n=t[0],t[1]==="www."?r="http://"+t[0]:r=t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Xe=class Is{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Et,this.options.tokenizer=this.options.tokenizer||new mr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:we,block:Kn.normal,inline:tn.normal};this.options.pedantic?(n.block=Kn.pedantic,n.inline=tn.pedantic):this.options.gfm&&(n.block=Kn.gfm,this.options.breaks?n.inline=tn.breaks:n.inline=tn.gfm),this.tokenizer.rules=n}static get rules(){return{block:Kn,inline:tn}}static lex(t,n){return new Is(n).lex(t)}static lexInline(t,n){return new Is(n).inlineTokens(t)}lex(t){t=t.replace(we.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(we.tabCharGlobal,"    ").replace(we.spaceLine,""));t;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},t,n))?(t=t.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(t)){t=t.substring(s.raw.length);const o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(t)){t=t.substring(s.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(t)){t=t.substring(s.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(t)){t=t.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(t)){t=t.substring(s.raw.length),n.push(s);continue}let i=t;if(this.options.extensions?.startBlock){let o=1/0;const a=t.slice(1);let l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(i=t.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){const o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==t.length,t=t.substring(s.raw.length);continue}if(s=this.tokenizer.text(t)){t=t.substring(s.raw.length);const o=n.at(-1);o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(t){const o="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,s=null;if(this.tokens.links){const a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;t;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);const c=n.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,o)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let c=1/0;const u=t.slice(1);let h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;const c=n.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},gr=class{options;parser;constructor(e){this.options=e||Et}space(e){return""}code({text:e,lang:t,escaped:n}){const r=(t||"").match(we.notSpaceStart)?.[0],s=e.replace(we.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Ze(r)+'">'+(n?s:Ze(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Ze(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let o=0;o<e.items.length;o++){const a=e.items[o];r+=this.listitem(a)}const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Ze(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let s=0;s<e.header.length;s++)n+=this.tablecell(e.header[s]);t+=this.tablerow({text:n});let r="";for(let s=0;s<e.rows.length;s++){const i=e.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ze(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),s=Do(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return t&&(i+=' title="'+Ze(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const s=Do(e);if(s===null)return Ze(n);e=s;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${Ze(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ze(e.text)}},wi=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Qe=class Rs{options;renderer;textRenderer;constructor(t){this.options=t||Et,this.options.renderer=this.options.renderer||new gr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new wi}static parse(t,n){return new Rs(n).parse(t)}static parseInline(t,n){return new Rs(n).parseInline(t)}parse(t,n=!0){let r="";for(let s=0;s<t.length;s++){const i=t[s];if(this.options.extensions?.renderers?.[i.type]){const a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}const o=i;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;s+1<t.length&&t[s+1].type==="text";)a=t[++s],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let s=0;s<t.length;s++){const i=t[s];if(this.options.extensions?.renderers?.[i.type]){const a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}const o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},or=class{options;block;constructor(e){this.options=e||Et}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Xe.lex:Xe.lexInline}provideParser(){return this.block?Qe.parse:Qe.parseInline}},Xf=class{defaults=fi();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Qe;Renderer=gr;TextRenderer=wi;Lexer=Xe;Tokenizer=mr;Hooks=or;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const s=r;for(const i of s.header)n=n.concat(this.walkTokens(i.tokens,t));for(const i of s.rows)for(const o of i)n=n.concat(this.walkTokens(o.tokens,t));break}case"list":{const s=r;n=n.concat(this.walkTokens(s.items,t));break}default:{const s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{const o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,t))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=t.renderers[s.name];i?t.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=t[s.level];i?i.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){const s=this.defaults.renderer||new gr(this.defaults);for(const i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,a=n.renderer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u||""}}r.renderer=s}if(n.tokenizer){const s=this.defaults.tokenizer||new mr(this.defaults);for(const i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,a=n.tokenizer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.tokenizer=s}if(n.hooks){const s=this.defaults.hooks||new or;for(const i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,a=n.hooks[o],l=s[o];or.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(h=>l.call(s,h));const u=a.call(s,c);return l.call(s,u)}:s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}r.hooks=s}if(n.walkTokens){const s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Xe.lex(e,t??this.defaults)}parser(e,t){return Qe.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const s={...r},i={...this.defaults,...s},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const a=i.hooks?i.hooks.provideLexer():e?Xe.lex:Xe.lexInline,l=i.hooks?i.hooks.provideParser():e?Qe.parse:Qe.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then(c=>a(c,i)).then(c=>i.hooks?i.hooks.processAllTokens(c):c).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>l(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));let c=a(n,i);i.hooks&&(c=i.hooks.processAllTokens(c)),i.walkTokens&&this.walkTokens(c,i.walkTokens);let u=l(c,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(c){return o(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+Ze(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},kt=new Xf;function V(e,t){return kt.parse(e,t)}V.options=V.setOptions=function(e){return kt.setOptions(e),V.defaults=kt.defaults,Ql(V.defaults),V};V.getDefaults=fi;V.defaults=Et;V.use=function(...e){return kt.use(...e),V.defaults=kt.defaults,Ql(V.defaults),V};V.walkTokens=function(e,t){return kt.walkTokens(e,t)};V.parseInline=kt.parseInline;V.Parser=Qe;V.parser=Qe.parse;V.Renderer=gr;V.TextRenderer=wi;V.Lexer=Xe;V.lexer=Xe.lex;V.Tokenizer=mr;V.Hooks=or;V.parse=V;V.options;V.setOptions;V.use;V.walkTokens;V.parseInline;Qe.parse;Xe.lex;var uc="vercel.ai.error",Qf=Symbol.for(uc),$o,Lo,Ut=class hc extends(Lo=Error,$o=Qf,Lo){constructor({name:t,message:n,cause:r}){super(n),this[$o]=!0,this.name=t,this.cause=r}static isInstance(t){return hc.hasMarker(t,uc)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function fc(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var pc="AI_InvalidArgumentError",dc=`vercel.ai.error.${pc}`,ep=Symbol.for(dc),zo,Vo,tp=class extends(Vo=Ut,zo=ep,Vo){constructor({message:e,cause:t,argument:n}){super({name:pc,message:e,cause:t}),this[zo]=!0,this.argument=n}static isInstance(e){return Ut.hasMarker(e,dc)}},mc="AI_JSONParseError",gc=`vercel.ai.error.${mc}`,np=Symbol.for(gc),jo,Zo,Fo=class extends(Zo=Ut,jo=np,Zo){constructor({text:e,cause:t}){super({name:mc,message:`JSON parsing failed: Text: ${e}.
Error message: ${fc(t)}`,cause:t}),this[jo]=!0,this.text=e}static isInstance(e){return Ut.hasMarker(e,gc)}},yc="AI_TypeValidationError",vc=`vercel.ai.error.${yc}`,rp=Symbol.for(vc),Bo,Uo,yr=class Cs extends(Uo=Ut,Bo=rp,Uo){constructor({value:t,cause:n}){super({name:yc,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${fc(n)}`,cause:n}),this[Bo]=!0,this.value=t}static isInstance(t){return Ut.hasMarker(t,vc)}static wrap({value:t,cause:n}){return Cs.isInstance(n)&&n.value===t?n:new Cs({value:t,cause:n})}};function x(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const u in o.prototype)u in a||Object.defineProperty(a,u,{value:o.prototype[u].bind(a)});a._zod.constr=o,a._zod.def=l}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(a){var l;const c=n?.Parent?new i:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class _n extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const bc={};function lt(e){return bc}function wc(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function sp(e,t){return typeof t=="bigint"?t.toString():t}function xi(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ti(e){return e==null}function _i(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function ip(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}function j(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Dr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function rn(e){return JSON.stringify(e)}const xc=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function vr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const op=xi(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function br(e){if(vr(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(vr(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const ap=new Set(["string","number","symbol"]);function On(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function At(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function M(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function lp(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const cp={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function up(e,t){const n={},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(n[s]=r.shape[s])}return At(e,{...e._zod.def,shape:n,checks:[]})}function hp(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete n[s]}return At(e,{...e._zod.def,shape:n,checks:[]})}function fp(e,t){if(!br(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Dr(this,"shape",r),r},checks:[]};return At(e,n)}function pp(e,t){return At(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Dr(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function dp(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in r))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=e?new e({type:"optional",innerType:r[i]}):r[i])}else for(const i in r)s[i]=e?new e({type:"optional",innerType:r[i]}):r[i];return At(t,{...t._zod.def,shape:s,checks:[]})}function mp(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const i in n){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(s[i]=new e({type:"nonoptional",innerType:r[i]}))}else for(const i in r)s[i]=new e({type:"nonoptional",innerType:r[i]});return At(t,{...t._zod.def,shape:s,checks:[]})}function vn(e,t=0){for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function bt(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Jn(e){return typeof e=="string"?e:e?.message}function ct(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=Jn(e.inst?._zod.def?.error?.(e))??Jn(t?.error?.(e))??Jn(n.customError?.(e))??Jn(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function ki(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function kn(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Tc=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,sp,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},_c=x("$ZodError",Tc),kc=x("$ZodError",Tc,{Parent:Error});function gp(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function yp(e,t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>s({issues:a}));else if(o.code==="invalid_key")s({issues:o.issues});else if(o.code==="invalid_element")s({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(e),r}const vp=e=>(t,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new _n;if(o.issues.length){const a=new(s?.Err??e)(o.issues.map(l=>ct(l,i,lt())));throw xc(a,s?.callee),a}return o.value},bp=e=>async(t,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(s?.Err??e)(o.issues.map(l=>ct(l,i,lt())));throw xc(a,s?.callee),a}return o.value},Sc=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new _n;return i.issues.length?{success:!1,error:new(e??_c)(i.issues.map(o=>ct(o,s,lt())))}:{success:!0,data:i.value}},wp=Sc(kc),Ec=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>ct(o,s,lt())))}:{success:!0,data:i.value}},xp=Ec(kc),Tp=/^[cC][^\s-]{8,}$/,_p=/^[0-9a-z]+$/,kp=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Sp=/^[0-9a-vA-V]{20}$/,Ep=/^[A-Za-z0-9]{27}$/,Ap=/^[a-zA-Z0-9_-]{21}$/,Pp=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Ip=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Wo=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Rp=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Cp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Mp(){return new RegExp(Cp,"u")}const Dp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Op=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Np=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$p=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lp=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ac=/^[A-Za-z0-9_-]*$/,zp=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Vp=/^\+(?:[0-9]){6,14}[0-9]$/,Pc="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jp=new RegExp(`^${Pc}$`);function Ic(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Zp(e){return new RegExp(`^${Ic(e)}$`)}function Fp(e){const t=Ic({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Pc}T(?:${r})$`)}const Bp=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Up=/^\d+$/,Wp=/^-?\d+(?:\.\d+)?/i,Gp=/true|false/i,Hp=/null/i,qp=/^[^A-Z]*$/,Yp=/^[^a-z]*$/,Ae=x("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Rc={number:"number",bigint:"bigint",object:"date"},Cc=x("$ZodCheckLessThan",(e,t)=>{Ae.init(e,t);const n=Rc[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Mc=x("$ZodCheckGreaterThan",(e,t)=>{Ae.init(e,t);const n=Rc[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Kp=x("$ZodCheckMultipleOf",(e,t)=>{Ae.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):ip(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Jp=x("$ZodCheckNumberFormat",(e,t)=>{Ae.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[s,i]=cp[t.format];e._zod.onattach.push(o=>{const a=o._zod.bag;a.format=t.format,a.minimum=s,a.maximum=i,n&&(a.pattern=Up)}),e._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:t.format,code:"invalid_type",input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}a<s&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),a>i&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:i,inst:e})}}),Xp=x("$ZodCheckMaxLength",(e,t)=>{var n;Ae.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ti(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const o=ki(s);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Qp=x("$ZodCheckMinLength",(e,t)=>{var n;Ae.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ti(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const o=ki(s);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),ed=x("$ZodCheckLengthEquals",(e,t)=>{var n;Ae.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Ti(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,i=s.length;if(i===t.length)return;const o=ki(s),a=i>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Or=x("$ZodCheckStringFormat",(e,t)=>{var n,r;Ae.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),td=x("$ZodCheckRegex",(e,t)=>{Or.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nd=x("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=qp),Or.init(e,t)}),rd=x("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Yp),Or.init(e,t)}),sd=x("$ZodCheckIncludes",(e,t)=>{Ae.init(e,t);const n=On(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),id=x("$ZodCheckStartsWith",(e,t)=>{Ae.init(e,t);const n=new RegExp(`^${On(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),od=x("$ZodCheckEndsWith",(e,t)=>{Ae.init(e,t);const n=new RegExp(`.*${On(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),ad=x("$ZodCheckOverwrite",(e,t)=>{Ae.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class ld{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...n,s.join(`
`))}}const cd={major:4,minor:0,patch:0},W=x("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=cd;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const i of s._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(i,o,a)=>{let l=vn(i),c;for(const u of o){if(u._zod.def.when){if(!u._zod.def.when(i))continue}else if(l)continue;const h=i.issues.length,f=u._zod.check(i);if(f instanceof Promise&&a?.async===!1)throw new _n;if(c||f instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await f,i.issues.length!==h&&(l||(l=vn(i,h)))});else{if(i.issues.length===h)continue;l||(l=vn(i,h))}}return c?c.then(()=>i):i};e._zod.run=(i,o)=>{const a=e._zod.parse(i,o);if(a instanceof Promise){if(o.async===!1)throw new _n;return a.then(l=>s(l,r,o))}return s(a,r,o)}}e["~standard"]={validate:s=>{try{const i=wp(e,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return xp(e,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Si=x("$ZodString",(e,t)=>{W.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Bp(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),J=x("$ZodStringFormat",(e,t)=>{Or.init(e,t),Si.init(e,t)}),ud=x("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Ip),J.init(e,t)}),hd=x("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Wo(r))}else t.pattern??(t.pattern=Wo());J.init(e,t)}),fd=x("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Rp),J.init(e,t)}),pd=x("$ZodURL",(e,t)=>{J.init(e,t),e._zod.check=n=>{try{const r=n.value,s=new URL(r),i=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:zp.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&i.endsWith("/")?n.value=i.slice(0,-1):n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),dd=x("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Mp()),J.init(e,t)}),md=x("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Ap),J.init(e,t)}),gd=x("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Tp),J.init(e,t)}),yd=x("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_p),J.init(e,t)}),vd=x("$ZodULID",(e,t)=>{t.pattern??(t.pattern=kp),J.init(e,t)}),bd=x("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Sp),J.init(e,t)}),wd=x("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Ep),J.init(e,t)}),xd=x("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Fp(t)),J.init(e,t)}),Td=x("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=jp),J.init(e,t)}),_d=x("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Zp(t)),J.init(e,t)}),kd=x("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Pp),J.init(e,t)}),Sd=x("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Dp),J.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Ed=x("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Op),J.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Ad=x("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Np),J.init(e,t)}),Pd=x("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$p),J.init(e,t),e._zod.check=n=>{const[r,s]=n.value.split("/");try{if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Dc(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Id=x("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Lp),J.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Dc(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Rd(e){if(!Ac.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Dc(n)}const Cd=x("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ac),J.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Rd(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Md=x("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Vp),J.init(e,t)});function Dd(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Od=x("$ZodJWT",(e,t)=>{J.init(e,t),e._zod.check=n=>{Dd(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Oc=x("$ZodNumber",(e,t)=>{W.init(e,t),e._zod.pattern=e._zod.bag.pattern??Wp,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),n}}),Nd=x("$ZodNumber",(e,t)=>{Jp.init(e,t),Oc.init(e,t)}),$d=x("$ZodBoolean",(e,t)=>{W.init(e,t),e._zod.pattern=Gp,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),Ld=x("$ZodNull",(e,t)=>{W.init(e,t),e._zod.pattern=Hp,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const s=n.value;return s===null||n.issues.push({expected:"null",code:"invalid_type",input:s,inst:e}),n}}),zd=x("$ZodUnknown",(e,t)=>{W.init(e,t),e._zod.parse=n=>n}),Vd=x("$ZodNever",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Go(e,t,n){e.issues.length&&t.issues.push(...bt(n,e.issues)),t.value[n]=e.value}const jd=x("$ZodArray",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const a=s[o],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?i.push(l.then(c=>Go(c,n,o))):Go(l,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Xn(e,t,n){e.issues.length&&t.issues.push(...bt(n,e.issues)),t.value[n]=e.value}function Ho(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...bt(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Zd=x("$ZodObject",(e,t)=>{W.init(e,t);const n=xi(()=>{const h=Object.keys(t.shape);for(const d of h)if(!(t.shape[d]instanceof W))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const f=lp(t.shape);return{shape:t.shape,keys:h,keySet:new Set(h),numKeys:h.length,optionalKeys:new Set(f)}});j(e._zod,"propValues",()=>{const h=t.shape,f={};for(const d in h){const p=h[d]._zod;if(p.values){f[d]??(f[d]=new Set);for(const g of p.values)f[d].add(g)}}return f});const r=h=>{const f=new ld(["shape","payload","ctx"]),d=n.value,p=w=>{const m=rn(w);return`shape[${m}]._zod.run({ value: input[${m}], issues: [] }, ctx)`};f.write("const input = payload.value;");const g=Object.create(null);let v=0;for(const w of d.keys)g[w]=`key_${v++}`;f.write("const newResult = {}");for(const w of d.keys)if(d.optionalKeys.has(w)){const m=g[w];f.write(`const ${m} = ${p(w)};`);const T=rn(w);f.write(`
        if (${m}.issues.length) {
          if (input[${T}] === undefined) {
            if (${T} in input) {
              newResult[${T}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${m}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${T}, ...iss.path] : [${T}],
              }))
            );
          }
        } else if (${m}.value === undefined) {
          if (${T} in input) newResult[${T}] = undefined;
        } else {
          newResult[${T}] = ${m}.value;
        }
        `)}else{const m=g[w];f.write(`const ${m} = ${p(w)};`),f.write(`
          if (${m}.issues.length) payload.issues = payload.issues.concat(${m}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${rn(w)}, ...iss.path] : [${rn(w)}]
          })));`),f.write(`newResult[${rn(w)}] = ${m}.value`)}f.write("payload.value = newResult;"),f.write("return payload;");const b=f.compile();return(w,m)=>b(h,w,m)};let s;const i=vr,o=!bc.jitless,l=o&&op.value,c=t.catchall;let u;e._zod.parse=(h,f)=>{u??(u=n.value);const d=h.value;if(!i(d))return h.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),h;const p=[];if(o&&l&&f?.async===!1&&f.jitless!==!0)s||(s=r(t.shape)),h=s(h,f);else{h.value={};const m=u.shape;for(const T of u.keys){const k=m[T],I=k._zod.run({value:d[T],issues:[]},f),R=k._zod.optin==="optional"&&k._zod.optout==="optional";I instanceof Promise?p.push(I.then(A=>R?Ho(A,h,T,d):Xn(A,h,T))):R?Ho(I,h,T,d):Xn(I,h,T)}}if(!c)return p.length?Promise.all(p).then(()=>h):h;const g=[],v=u.keySet,b=c._zod,w=b.def.type;for(const m of Object.keys(d)){if(v.has(m))continue;if(w==="never"){g.push(m);continue}const T=b.run({value:d[m],issues:[]},f);T instanceof Promise?p.push(T.then(k=>Xn(k,h,m))):Xn(T,h,m)}return g.length&&h.issues.push({code:"unrecognized_keys",keys:g,input:d,inst:e}),p.length?Promise.all(p).then(()=>h):h}});function qo(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(i=>ct(i,r,lt())))}),t}const Nc=x("$ZodUnion",(e,t)=>{W.init(e,t),j(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),j(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),j(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),j(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>_i(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let s=!1;const i=[];for(const o of t.options){const a=o._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)i.push(a),s=!0;else{if(a.issues.length===0)return a;i.push(a)}}return s?Promise.all(i).then(o=>qo(o,n,e,r)):qo(i,n,e,r)}}),Fd=x("$ZodDiscriminatedUnion",(e,t)=>{Nc.init(e,t);const n=e._zod.parse;j(e._zod,"propValues",()=>{const s={};for(const i of t.options){const o=i._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[a,l]of Object.entries(o)){s[a]||(s[a]=new Set);for(const c of l)s[a].add(c)}}return s});const r=xi(()=>{const s=t.options,i=new Map;for(const o of s){const a=o._zod.propValues[t.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const l of a){if(i.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);i.set(l,o)}}return i});e._zod.parse=(s,i)=>{const o=s.value;if(!vr(o))return s.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),s;const a=r.value.get(o?.[t.discriminator]);return a?a._zod.run(s,i):t.unionFallback?n(s,i):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:o,path:[t.discriminator],inst:e}),s)}}),Bd=x("$ZodIntersection",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,i=t.left._zod.run({value:s,issues:[]},r),o=t.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([l,c])=>Yo(n,l,c)):Yo(n,i,o)}});function Ms(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(br(e)&&br(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),s={...e,...t};for(const i of r){const o=Ms(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r],o=Ms(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Yo(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),vn(e))return e;const r=Ms(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Ud=x("$ZodRecord",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!br(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const i=[];if(t.keyType._zod.values){const o=t.keyType._zod.values;n.value={};for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:s[l],issues:[]},r);c instanceof Promise?i.push(c.then(u=>{u.issues.length&&n.issues.push(...bt(l,u.issues)),n.value[l]=u.value})):(c.issues.length&&n.issues.push(...bt(l,c.issues)),n.value[l]=c.value)}let a;for(const l in s)o.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:a})}else{n.value={};for(const o of Reflect.ownKeys(s)){if(o==="__proto__")continue;const a=t.keyType._zod.run({value:o,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>ct(c,r,lt())),input:o,path:[o],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:s[o],issues:[]},r);l instanceof Promise?i.push(l.then(c=>{c.issues.length&&n.issues.push(...bt(o,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...bt(o,l.issues)),n.value[a.value]=l.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Wd=x("$ZodEnum",(e,t)=>{W.init(e,t);const n=wc(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>ap.has(typeof r)).map(r=>typeof r=="string"?On(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:n,input:i,inst:e}),r}}),Gd=x("$ZodLiteral",(e,t)=>{W.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?On(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const s=n.value;return e._zod.values.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),Hd=x("$ZodTransform",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new _n;return n.value=s,n}}),qd=x("$ZodOptional",(e,t)=>{W.init(e,t),e._zod.optin="optional",e._zod.optout="optional",j(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),j(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${_i(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),Yd=x("$ZodNullable",(e,t)=>{W.init(e,t),j(e._zod,"optin",()=>t.innerType._zod.optin),j(e._zod,"optout",()=>t.innerType._zod.optout),j(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${_i(n.source)}|null)$`):void 0}),j(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Kd=x("$ZodDefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",j(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Ko(i,t)):Ko(s,t)}});function Ko(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Jd=x("$ZodPrefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",j(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Xd=x("$ZodNonOptional",(e,t)=>{W.init(e,t),j(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>Jo(i,e)):Jo(s,e)}});function Jo(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Qd=x("$ZodCatch",(e,t)=>{W.init(e,t),e._zod.optin="optional",j(e._zod,"optout",()=>t.innerType._zod.optout),j(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>ct(o,r,lt()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>ct(i,r,lt()))},input:n.value}),n.issues=[]),n)}}),em=x("$ZodPipe",(e,t)=>{W.init(e,t),j(e._zod,"values",()=>t.in._zod.values),j(e._zod,"optin",()=>t.in._zod.optin),j(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,r)=>{const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Xo(i,t,r)):Xo(s,t,r)}});function Xo(e,t,n){return vn(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const tm=x("$ZodReadonly",(e,t)=>{W.init(e,t),j(e._zod,"propValues",()=>t.innerType._zod.propValues),j(e._zod,"values",()=>t.innerType._zod.values),j(e._zod,"optin",()=>t.innerType._zod.optin),j(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(Qo):Qo(s)}});function Qo(e){return e.value=Object.freeze(e.value),e}const nm=x("$ZodLazy",(e,t)=>{W.init(e,t),j(e._zod,"innerType",()=>t.getter()),j(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),j(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),j(e._zod,"optin",()=>e._zod.innerType._zod.optin),j(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),rm=x("$ZodCustom",(e,t)=>{Ae.init(e,t),W.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(i=>ea(i,n,r,e));ea(s,n,r,e)}});function ea(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(kn(s))}}class $c{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function sm(){return new $c}const hn=sm();function im(e,t){return new e({type:"string",...M(t)})}function om(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...M(t)})}function ta(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...M(t)})}function am(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...M(t)})}function lm(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...M(t)})}function cm(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...M(t)})}function um(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...M(t)})}function hm(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...M(t)})}function fm(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...M(t)})}function pm(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...M(t)})}function dm(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...M(t)})}function mm(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...M(t)})}function gm(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...M(t)})}function ym(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...M(t)})}function vm(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...M(t)})}function bm(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...M(t)})}function wm(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...M(t)})}function xm(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...M(t)})}function Tm(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...M(t)})}function _m(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...M(t)})}function km(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...M(t)})}function Sm(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...M(t)})}function Em(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...M(t)})}function Am(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...M(t)})}function Pm(e,t){return new e({type:"string",format:"date",check:"string_format",...M(t)})}function Im(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...M(t)})}function Rm(e,t){return new e({type:"string",format:"duration",check:"string_format",...M(t)})}function Cm(e,t){return new e({type:"number",checks:[],...M(t)})}function Mm(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...M(t)})}function Dm(e,t){return new e({type:"boolean",...M(t)})}function Om(e,t){return new e({type:"null",...M(t)})}function Nm(e){return new e({type:"unknown"})}function $m(e,t){return new e({type:"never",...M(t)})}function na(e,t){return new Cc({check:"less_than",...M(t),value:e,inclusive:!1})}function Qr(e,t){return new Cc({check:"less_than",...M(t),value:e,inclusive:!0})}function ra(e,t){return new Mc({check:"greater_than",...M(t),value:e,inclusive:!1})}function es(e,t){return new Mc({check:"greater_than",...M(t),value:e,inclusive:!0})}function sa(e,t){return new Kp({check:"multiple_of",...M(t),value:e})}function Lc(e,t){return new Xp({check:"max_length",...M(t),maximum:e})}function wr(e,t){return new Qp({check:"min_length",...M(t),minimum:e})}function zc(e,t){return new ed({check:"length_equals",...M(t),length:e})}function Lm(e,t){return new td({check:"string_format",format:"regex",...M(t),pattern:e})}function zm(e){return new nd({check:"string_format",format:"lowercase",...M(e)})}function Vm(e){return new rd({check:"string_format",format:"uppercase",...M(e)})}function jm(e,t){return new sd({check:"string_format",format:"includes",...M(t),includes:e})}function Zm(e,t){return new id({check:"string_format",format:"starts_with",...M(t),prefix:e})}function Fm(e,t){return new od({check:"string_format",format:"ends_with",...M(t),suffix:e})}function Nn(e){return new ad({check:"overwrite",tx:e})}function Bm(e){return Nn(t=>t.normalize(e))}function Um(){return Nn(e=>e.trim())}function Wm(){return Nn(e=>e.toLowerCase())}function Gm(){return Nn(e=>e.toUpperCase())}function Hm(e,t,n){return new e({type:"array",element:t,...M(n)})}function qm(e,t,n){const r=M(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function Ym(e,t,n){return new e({type:"custom",check:"custom",fn:t,...M(n)})}class ia{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??hn,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var r;const s=t._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(t);if(o)return o.count++,n.schemaPath.includes(t)&&(o.cycle=n.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,a);const l=t._zod.toJSONSchema?.();if(l)a.schema=l;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path},f=t._zod.parent;if(f)a.ref=f,this.process(f,h),this.seen.get(f).isParent=!0;else{const d=a.schema;switch(s.type){case"string":{const p=d;p.type="string";const{minimum:g,maximum:v,format:b,patterns:w,contentEncoding:m}=t._zod.bag;if(typeof g=="number"&&(p.minLength=g),typeof v=="number"&&(p.maxLength=v),b&&(p.format=i[b]??b,p.format===""&&delete p.format),m&&(p.contentEncoding=m),w&&w.size>0){const T=[...w];T.length===1?p.pattern=T[0].source:T.length>1&&(a.schema.allOf=[...T.map(k=>({...this.target==="draft-7"?{type:"string"}:{},pattern:k.source}))])}break}case"number":{const p=d,{minimum:g,maximum:v,format:b,multipleOf:w,exclusiveMaximum:m,exclusiveMinimum:T}=t._zod.bag;typeof b=="string"&&b.includes("int")?p.type="integer":p.type="number",typeof T=="number"&&(p.exclusiveMinimum=T),typeof g=="number"&&(p.minimum=g,typeof T=="number"&&(T>=g?delete p.minimum:delete p.exclusiveMinimum)),typeof m=="number"&&(p.exclusiveMaximum=m),typeof v=="number"&&(p.maximum=v,typeof m=="number"&&(m<=v?delete p.maximum:delete p.exclusiveMaximum)),typeof w=="number"&&(p.multipleOf=w);break}case"boolean":{const p=d;p.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{d.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{d.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const p=d,{minimum:g,maximum:v}=t._zod.bag;typeof g=="number"&&(p.minItems=g),typeof v=="number"&&(p.maxItems=v),p.type="array",p.items=this.process(s.element,{...h,path:[...h.path,"items"]});break}case"object":{const p=d;p.type="object",p.properties={};const g=s.shape;for(const w in g)p.properties[w]=this.process(g[w],{...h,path:[...h.path,"properties",w]});const v=new Set(Object.keys(g)),b=new Set([...v].filter(w=>{const m=s.shape[w]._zod;return this.io==="input"?m.optin===void 0:m.optout===void 0}));b.size>0&&(p.required=Array.from(b)),s.catchall?._zod.def.type==="never"?p.additionalProperties=!1:s.catchall?s.catchall&&(p.additionalProperties=this.process(s.catchall,{...h,path:[...h.path,"additionalProperties"]})):this.io==="output"&&(p.additionalProperties=!1);break}case"union":{const p=d;p.anyOf=s.options.map((g,v)=>this.process(g,{...h,path:[...h.path,"anyOf",v]}));break}case"intersection":{const p=d,g=this.process(s.left,{...h,path:[...h.path,"allOf",0]}),v=this.process(s.right,{...h,path:[...h.path,"allOf",1]}),b=m=>"allOf"in m&&Object.keys(m).length===1,w=[...b(g)?g.allOf:[g],...b(v)?v.allOf:[v]];p.allOf=w;break}case"tuple":{const p=d;p.type="array";const g=s.items.map((w,m)=>this.process(w,{...h,path:[...h.path,"prefixItems",m]}));if(this.target==="draft-2020-12"?p.prefixItems=g:p.items=g,s.rest){const w=this.process(s.rest,{...h,path:[...h.path,"items"]});this.target==="draft-2020-12"?p.items=w:p.additionalItems=w}s.rest&&(p.items=this.process(s.rest,{...h,path:[...h.path,"items"]}));const{minimum:v,maximum:b}=t._zod.bag;typeof v=="number"&&(p.minItems=v),typeof b=="number"&&(p.maxItems=b);break}case"record":{const p=d;p.type="object",p.propertyNames=this.process(s.keyType,{...h,path:[...h.path,"propertyNames"]}),p.additionalProperties=this.process(s.valueType,{...h,path:[...h.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const p=d,g=wc(s.entries);g.every(v=>typeof v=="number")&&(p.type="number"),g.every(v=>typeof v=="string")&&(p.type="string"),p.enum=g;break}case"literal":{const p=d,g=[];for(const v of s.values)if(v===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof v=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");g.push(Number(v))}else g.push(v);if(g.length!==0)if(g.length===1){const v=g[0];p.type=v===null?"null":typeof v,p.const=v}else g.every(v=>typeof v=="number")&&(p.type="number"),g.every(v=>typeof v=="string")&&(p.type="string"),g.every(v=>typeof v=="boolean")&&(p.type="string"),g.every(v=>v===null)&&(p.type="null"),p.enum=g;break}case"file":{const p=d,g={type:"string",format:"binary",contentEncoding:"binary"},{minimum:v,maximum:b,mime:w}=t._zod.bag;v!==void 0&&(g.minLength=v),b!==void 0&&(g.maxLength=b),w?w.length===1?(g.contentMediaType=w[0],Object.assign(p,g)):p.anyOf=w.map(m=>({...g,contentMediaType:m})):Object.assign(p,g);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const p=this.process(s.innerType,h);d.anyOf=[p,{type:"null"}];break}case"nonoptional":{this.process(s.innerType,h),a.ref=s.innerType;break}case"success":{const p=d;p.type="boolean";break}case"default":{this.process(s.innerType,h),a.ref=s.innerType,d.default=JSON.parse(JSON.stringify(s.defaultValue));break}case"prefault":{this.process(s.innerType,h),a.ref=s.innerType,this.io==="input"&&(d._prefault=JSON.parse(JSON.stringify(s.defaultValue)));break}case"catch":{this.process(s.innerType,h),a.ref=s.innerType;let p;try{p=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}d.default=p;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const p=d,g=t._zod.pattern;if(!g)throw new Error("Pattern not found in template literal");p.type="string",p.pattern=g.source;break}case"pipe":{const p=this.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;this.process(p,h),a.ref=p;break}case"readonly":{this.process(s.innerType,h),a.ref=s.innerType,d.readOnly=!0;break}case"promise":{this.process(s.innerType,h),a.ref=s.innerType;break}case"optional":{this.process(s.innerType,h),a.ref=s.innerType;break}case"lazy":{const p=t._zod.innerType;this.process(p,h),a.ref=p;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const c=this.metadataRegistry.get(t);return c&&Object.assign(a.schema,c),this.io==="input"&&le(t)&&(delete a.schema.examples,delete a.schema.default),this.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(t).schema}emit(t,n){const r={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},s=this.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{const h=this.target==="draft-2020-12"?"$defs":"definitions";if(r.external){const g=r.external.registry.get(u[0])?.id,v=r.external.uri??(w=>w);if(g)return{ref:v(g)};const b=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=b,{defId:b,ref:`${v("__shared")}#/${h}/${b}`}}if(u[1]===s)return{ref:"#"};const d=`#/${h}/`,p=u[1].schema.id??`__schema${this.counter++}`;return{defId:p,ref:d+p}},o=u=>{if(u[1].schema.$ref)return;const h=u[1],{ref:f,defId:d}=i(u);h.def={...h.schema},d&&(h.defId=d);const p=h.schema;for(const g in p)delete p[g];p.$ref=f};if(r.cycles==="throw")for(const u of this.seen.entries()){const h=u[1];if(h.cycle)throw new Error(`Cycle detected: #/${h.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of this.seen.entries()){const h=u[1];if(t===u[0]){o(u);continue}if(r.external){const d=r.external.registry.get(u[0])?.id;if(t!==u[0]&&d){o(u);continue}}if(this.metadataRegistry.get(u[0])?.id){o(u);continue}if(h.cycle){o(u);continue}if(h.count>1&&r.reused==="ref"){o(u);continue}}const a=(u,h)=>{const f=this.seen.get(u),d=f.def??f.schema,p={...d};if(f.ref===null)return;const g=f.ref;if(f.ref=null,g){a(g,h);const v=this.seen.get(g).schema;v.$ref&&h.target==="draft-7"?(d.allOf=d.allOf??[],d.allOf.push(v)):(Object.assign(d,v),Object.assign(d,p))}f.isParent||this.override({zodSchema:u,jsonSchema:d,path:f.path??[]})};for(const u of[...this.seen.entries()].reverse())a(u[0],{target:this.target});const l={};if(this.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?l.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),r.external?.uri){const u=r.external.registry.get(t)?.id;if(!u)throw new Error("Schema is missing an `id` property");l.$id=r.external.uri(u)}Object.assign(l,s.def);const c=r.external?.defs??{};for(const u of this.seen.entries()){const h=u[1];h.def&&h.defId&&(c[h.defId]=h.def)}r.external||Object.keys(c).length>0&&(this.target==="draft-2020-12"?l.$defs=c:l.definitions=c);try{return JSON.parse(JSON.stringify(l))}catch{throw new Error("Error converting schema to JSON.")}}}function Km(e,t){if(e instanceof $c){const r=new ia(t),s={};for(const a of e._idmap.entries()){const[l,c]=a;r.process(c)}const i={},o={registry:e,uri:t?.uri,defs:s};for(const a of e._idmap.entries()){const[l,c]=a;i[l]=r.emit(c,{...t,external:o})}if(Object.keys(s).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[a]:s}}return{schemas:i}}const n=new ia(t);return n.process(e),n.emit(e,t)}function le(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const s=e._zod.def;switch(s.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return le(s.element,n);case"object":{for(const i in s.shape)if(le(s.shape[i],n))return!0;return!1}case"union":{for(const i of s.options)if(le(i,n))return!0;return!1}case"intersection":return le(s.left,n)||le(s.right,n);case"tuple":{for(const i of s.items)if(le(i,n))return!0;return!!(s.rest&&le(s.rest,n))}case"record":return le(s.keyType,n)||le(s.valueType,n);case"map":return le(s.keyType,n)||le(s.valueType,n);case"set":return le(s.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return le(s.innerType,n);case"lazy":return le(s.getter(),n);case"default":return le(s.innerType,n);case"prefault":return le(s.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return le(s.in,n)||le(s.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${s.type}`)}const Jm=x("ZodISODateTime",(e,t)=>{xd.init(e,t),ee.init(e,t)});function Xm(e){return Am(Jm,e)}const Qm=x("ZodISODate",(e,t)=>{Td.init(e,t),ee.init(e,t)});function eg(e){return Pm(Qm,e)}const tg=x("ZodISOTime",(e,t)=>{_d.init(e,t),ee.init(e,t)});function ng(e){return Im(tg,e)}const rg=x("ZodISODuration",(e,t)=>{kd.init(e,t),ee.init(e,t)});function sg(e){return Rm(rg,e)}const ig=(e,t)=>{_c.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>yp(e,n)},flatten:{value:n=>gp(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Nr=x("ZodError",ig,{Parent:Error}),og=vp(Nr),ag=bp(Nr),lg=Sc(Nr),Vc=Ec(Nr),X=x("ZodType",(e,t)=>(W.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>At(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>og(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>lg(e,n,r),e.parseAsync=async(n,r)=>ag(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Vc(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(ry(n,r)),e.superRefine=n=>e.check(sy(n)),e.overwrite=n=>e.check(Nn(n)),e.optional=()=>la(e),e.nullable=()=>ca(e),e.nullish=()=>la(ca(e)),e.nonoptional=n=>qg(e,n),e.array=()=>Ht(e),e.or=n=>_e([e,n]),e.and=n=>zg(e,n),e.transform=n=>ua(e,Fg(n)),e.default=n=>Wg(e,n),e.prefault=n=>Hg(e,n),e.catch=n=>Kg(e,n),e.pipe=n=>ua(e,n),e.readonly=()=>Qg(e),e.describe=n=>{const r=e.clone();return hn.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return hn.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return hn.get(e);const r=e.clone();return hn.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),jc=x("_ZodString",(e,t)=>{Si.init(e,t),X.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Lm(...r)),e.includes=(...r)=>e.check(jm(...r)),e.startsWith=(...r)=>e.check(Zm(...r)),e.endsWith=(...r)=>e.check(Fm(...r)),e.min=(...r)=>e.check(wr(...r)),e.max=(...r)=>e.check(Lc(...r)),e.length=(...r)=>e.check(zc(...r)),e.nonempty=(...r)=>e.check(wr(1,...r)),e.lowercase=r=>e.check(zm(r)),e.uppercase=r=>e.check(Vm(r)),e.trim=()=>e.check(Um()),e.normalize=(...r)=>e.check(Bm(...r)),e.toLowerCase=()=>e.check(Wm()),e.toUpperCase=()=>e.check(Gm())}),cg=x("ZodString",(e,t)=>{Si.init(e,t),jc.init(e,t),e.email=n=>e.check(om(ug,n)),e.url=n=>e.check(hm(hg,n)),e.jwt=n=>e.check(Em(Eg,n)),e.emoji=n=>e.check(fm(fg,n)),e.guid=n=>e.check(ta(oa,n)),e.uuid=n=>e.check(am(Qn,n)),e.uuidv4=n=>e.check(lm(Qn,n)),e.uuidv6=n=>e.check(cm(Qn,n)),e.uuidv7=n=>e.check(um(Qn,n)),e.nanoid=n=>e.check(pm(pg,n)),e.guid=n=>e.check(ta(oa,n)),e.cuid=n=>e.check(dm(dg,n)),e.cuid2=n=>e.check(mm(mg,n)),e.ulid=n=>e.check(gm(gg,n)),e.base64=n=>e.check(_m(_g,n)),e.base64url=n=>e.check(km(kg,n)),e.xid=n=>e.check(ym(yg,n)),e.ksuid=n=>e.check(vm(vg,n)),e.ipv4=n=>e.check(bm(bg,n)),e.ipv6=n=>e.check(wm(wg,n)),e.cidrv4=n=>e.check(xm(xg,n)),e.cidrv6=n=>e.check(Tm(Tg,n)),e.e164=n=>e.check(Sm(Sg,n)),e.datetime=n=>e.check(Xm(n)),e.date=n=>e.check(eg(n)),e.time=n=>e.check(ng(n)),e.duration=n=>e.check(sg(n))});function S(e){return im(cg,e)}const ee=x("ZodStringFormat",(e,t)=>{J.init(e,t),jc.init(e,t)}),ug=x("ZodEmail",(e,t)=>{fd.init(e,t),ee.init(e,t)}),oa=x("ZodGUID",(e,t)=>{ud.init(e,t),ee.init(e,t)}),Qn=x("ZodUUID",(e,t)=>{hd.init(e,t),ee.init(e,t)}),hg=x("ZodURL",(e,t)=>{pd.init(e,t),ee.init(e,t)}),fg=x("ZodEmoji",(e,t)=>{dd.init(e,t),ee.init(e,t)}),pg=x("ZodNanoID",(e,t)=>{md.init(e,t),ee.init(e,t)}),dg=x("ZodCUID",(e,t)=>{gd.init(e,t),ee.init(e,t)}),mg=x("ZodCUID2",(e,t)=>{yd.init(e,t),ee.init(e,t)}),gg=x("ZodULID",(e,t)=>{vd.init(e,t),ee.init(e,t)}),yg=x("ZodXID",(e,t)=>{bd.init(e,t),ee.init(e,t)}),vg=x("ZodKSUID",(e,t)=>{wd.init(e,t),ee.init(e,t)}),bg=x("ZodIPv4",(e,t)=>{Sd.init(e,t),ee.init(e,t)}),wg=x("ZodIPv6",(e,t)=>{Ed.init(e,t),ee.init(e,t)}),xg=x("ZodCIDRv4",(e,t)=>{Ad.init(e,t),ee.init(e,t)}),Tg=x("ZodCIDRv6",(e,t)=>{Pd.init(e,t),ee.init(e,t)}),_g=x("ZodBase64",(e,t)=>{Id.init(e,t),ee.init(e,t)}),kg=x("ZodBase64URL",(e,t)=>{Cd.init(e,t),ee.init(e,t)}),Sg=x("ZodE164",(e,t)=>{Md.init(e,t),ee.init(e,t)}),Eg=x("ZodJWT",(e,t)=>{Od.init(e,t),ee.init(e,t)}),Zc=x("ZodNumber",(e,t)=>{Oc.init(e,t),X.init(e,t),e.gt=(r,s)=>e.check(ra(r,s)),e.gte=(r,s)=>e.check(es(r,s)),e.min=(r,s)=>e.check(es(r,s)),e.lt=(r,s)=>e.check(na(r,s)),e.lte=(r,s)=>e.check(Qr(r,s)),e.max=(r,s)=>e.check(Qr(r,s)),e.int=r=>e.check(aa(r)),e.safe=r=>e.check(aa(r)),e.positive=r=>e.check(ra(0,r)),e.nonnegative=r=>e.check(es(0,r)),e.negative=r=>e.check(na(0,r)),e.nonpositive=r=>e.check(Qr(0,r)),e.multipleOf=(r,s)=>e.check(sa(r,s)),e.step=(r,s)=>e.check(sa(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ag(e){return Cm(Zc,e)}const Pg=x("ZodNumberFormat",(e,t)=>{Nd.init(e,t),Zc.init(e,t)});function aa(e){return Mm(Pg,e)}const Ig=x("ZodBoolean",(e,t)=>{$d.init(e,t),X.init(e,t)});function be(e){return Dm(Ig,e)}const Rg=x("ZodNull",(e,t)=>{Ld.init(e,t),X.init(e,t)});function Cg(e){return Om(Rg,e)}const Mg=x("ZodUnknown",(e,t)=>{zd.init(e,t),X.init(e,t)});function Ue(){return Nm(Mg)}const Dg=x("ZodNever",(e,t)=>{Vd.init(e,t),X.init(e,t)});function Fc(e){return $m(Dg,e)}const Og=x("ZodArray",(e,t)=>{jd.init(e,t),X.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(wr(n,r)),e.nonempty=n=>e.check(wr(1,n)),e.max=(n,r)=>e.check(Lc(n,r)),e.length=(n,r)=>e.check(zc(n,r)),e.unwrap=()=>e.element});function Ht(e,t){return Hm(Og,e,t)}const Bc=x("ZodObject",(e,t)=>{Zd.init(e,t),X.init(e,t),j(e,"shape",()=>t.shape),e.keyof=()=>Wc(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ue()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ue()}),e.strict=()=>e.clone({...e._zod.def,catchall:Fc()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>fp(e,n),e.merge=n=>pp(e,n),e.pick=n=>up(e,n),e.omit=n=>hp(e,n),e.partial=(...n)=>dp(Gc,e,n[0]),e.required=(...n)=>mp(Hc,e,n[0])});function B(e,t){const n={type:"object",get shape(){return Dr(this,"shape",{...e}),this.shape},...M(t)};return new Bc(n)}function H(e,t){return new Bc({type:"object",get shape(){return Dr(this,"shape",{...e}),this.shape},catchall:Fc(),...M(t)})}const Uc=x("ZodUnion",(e,t)=>{Nc.init(e,t),X.init(e,t),e.options=t.options});function _e(e,t){return new Uc({type:"union",options:e,...M(t)})}const Ng=x("ZodDiscriminatedUnion",(e,t)=>{Uc.init(e,t),Fd.init(e,t)});function $g(e,t,n){return new Ng({type:"union",options:t,discriminator:e,...M(n)})}const Lg=x("ZodIntersection",(e,t)=>{Bd.init(e,t),X.init(e,t)});function zg(e,t){return new Lg({type:"intersection",left:e,right:t})}const Vg=x("ZodRecord",(e,t)=>{Ud.init(e,t),X.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Sn(e,t,n){return new Vg({type:"record",keyType:e,valueType:t,...M(n)})}const Ds=x("ZodEnum",(e,t)=>{Wd.init(e,t),X.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Ds({...t,checks:[],...M(s),entries:i})},e.exclude=(r,s)=>{const i={...t.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Ds({...t,checks:[],...M(s),entries:i})}});function Wc(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Ds({type:"enum",entries:n,...M(t)})}const jg=x("ZodLiteral",(e,t)=>{Gd.init(e,t),X.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function O(e,t){return new jg({type:"literal",values:Array.isArray(e)?e:[e],...M(t)})}const Zg=x("ZodTransform",(e,t)=>{Hd.init(e,t),X.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=i=>{if(typeof i=="string")n.issues.push(kn(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),o.continue??(o.continue=!0),n.issues.push(kn(o))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function Fg(e){return new Zg({type:"transform",transform:e})}const Gc=x("ZodOptional",(e,t)=>{qd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType});function la(e){return new Gc({type:"optional",innerType:e})}const Bg=x("ZodNullable",(e,t)=>{Yd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ca(e){return new Bg({type:"nullable",innerType:e})}const Ug=x("ZodDefault",(e,t)=>{Kd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Wg(e,t){return new Ug({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Gg=x("ZodPrefault",(e,t)=>{Jd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Hg(e,t){return new Gg({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Hc=x("ZodNonOptional",(e,t)=>{Xd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qg(e,t){return new Hc({type:"nonoptional",innerType:e,...M(t)})}const Yg=x("ZodCatch",(e,t)=>{Qd.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Kg(e,t){return new Yg({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Jg=x("ZodPipe",(e,t)=>{em.init(e,t),X.init(e,t),e.in=t.in,e.out=t.out});function ua(e,t){return new Jg({type:"pipe",in:e,out:t})}const Xg=x("ZodReadonly",(e,t)=>{tm.init(e,t),X.init(e,t)});function Qg(e){return new Xg({type:"readonly",innerType:e})}const ey=x("ZodLazy",(e,t)=>{nm.init(e,t),X.init(e,t),e.unwrap=()=>e._zod.def.getter()});function ty(e){return new ey({type:"lazy",getter:e})}const Ei=x("ZodCustom",(e,t)=>{rm.init(e,t),X.init(e,t)});function ny(e){const t=new Ae({check:"custom"});return t._zod.check=e,t}function qc(e,t){return qm(Ei,e??(()=>!0),t)}function ry(e,t={}){return Ym(Ei,e,t)}function sy(e){const t=ny(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(kn(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(kn(s))}},e(n.value,n)));return t}function xr(e,t={error:`Input not instance of ${e.name}`}){const n=new Ei({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...M(t)});return n._zod.bag.Class=e,n}var N;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(N||(N={}));class ha extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function ts(e){}function iy(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=ts,onError:n=ts,onRetry:r=ts,onComment:s}=e;let i="",o=!0,a,l="",c="";function u(g){const v=o?g.replace(/^\xEF\xBB\xBF/,""):g,[b,w]=oy(`${i}${v}`);for(const m of b)h(m);i=w,o=!1}function h(g){if(g===""){d();return}if(g.startsWith(":")){s&&s(g.slice(g.startsWith(": ")?2:1));return}const v=g.indexOf(":");if(v!==-1){const b=g.slice(0,v),w=g[v+1]===" "?2:1,m=g.slice(v+w);f(b,m,g);return}f(g,"",g)}function f(g,v,b){switch(g){case"event":c=v;break;case"data":l=`${l}${v}
`;break;case"id":a=v.includes("\0")?void 0:v;break;case"retry":/^\d+$/.test(v)?r(parseInt(v,10)):n(new ha(`Invalid \`retry\` value: "${v}"`,{type:"invalid-retry",value:v,line:b}));break;default:n(new ha(`Unknown field "${g.length>20?`${g.slice(0,20)}…`:g}"`,{type:"unknown-field",field:g,value:v,line:b}));break}}function d(){l.length>0&&t({id:a,event:c||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),a=void 0,l="",c=""}function p(g={}){i&&g.consume&&h(i),o=!0,a=void 0,l="",c="",i=""}return{feed:u,reset:p}}function oy(e){const t=[];let n="",r=0;for(;r<e.length;){const s=e.indexOf("\r",r),i=e.indexOf(`
`,r);let o=-1;if(s!==-1&&i!==-1?o=Math.min(s,i):s!==-1?s===e.length-1?o=-1:o=s:i!==-1&&(o=i),o===-1){n=e.slice(r);break}else{const a=e.slice(r,o);t.push(a),r=o+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class ay extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let s;super({start(i){s=iy({onEvent:o=>{i.enqueue(o)},onError(o){t==="terminate"?i.error(o):typeof t=="function"&&t(o)},onRetry:n,onComment:r})},transform(i){s.feed(i)}})}}var $n=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const s=()=>{const i=n.length,o=new Array(t);for(let a=0;a<t;a++)o[a]=n[Math.random()*i|0];return o.join("")};if(e==null)return s;if(n.includes(r))throw new tp({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${s()}`},ly=$n();function fa(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function yt(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((n,r)=>{t[r.toLowerCase()]=n});else{Array.isArray(e)||(e=Object.entries(e));for(const[n,r]of e)r!=null&&(t[n.toLowerCase()]=r)}return t}function pa(e,...t){const n=new Headers(yt(e)),r=n.get("user-agent")||"";return n.set("user-agent",[r,...t].filter(Boolean).join(" ")),Object.fromEntries(n.entries())}var cy=/"__proto__"\s*:/,uy=/"constructor"\s*:/;function da(e){const t=JSON.parse(e);return t===null||typeof t!="object"||cy.test(e)===!1&&uy.test(e)===!1?t:hy(t)}function hy(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const s in r){const i=r[s];i&&typeof i=="object"&&t.push(i)}}}return e}function fy(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return da(e)}try{return da(e)}finally{Error.stackTraceLimit=t}}function Ai(e){if(e.type==="object"||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;const{properties:n}=e;if(n!=null)for(const r of Object.keys(n))n[r]=mt(n[r])}e.items!=null&&(e.items=Array.isArray(e.items)?e.items.map(mt):mt(e.items)),e.anyOf!=null&&(e.anyOf=e.anyOf.map(mt)),e.allOf!=null&&(e.allOf=e.allOf.map(mt)),e.oneOf!=null&&(e.oneOf=e.oneOf.map(mt));const{definitions:t}=e;if(t!=null)for(const n of Object.keys(t))t[n]=mt(t[n]);return e}function mt(e){return typeof e=="boolean"?e:Ai(e)}var py=Symbol("Let zodToJsonSchema decide on which parser to use"),ma={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},dy=e=>typeof e=="string"?{...ma,name:e}:{...ma,...e};function Pe(){return{}}function my(e,t){var n,r,s;const i={type:"array"};return(n=e.type)!=null&&n._def&&((s=(r=e.type)==null?void 0:r._def)==null?void 0:s.typeName)!==N.ZodAny&&(i.items=F(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(i.minItems=e.minLength.value),e.maxLength&&(i.maxItems=e.maxLength.value),e.exactLength&&(i.minItems=e.exactLength.value,i.maxItems=e.exactLength.value),i}function gy(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function yy(){return{type:"boolean"}}function Yc(e,t){return F(e.type._def,t)}var vy=(e,t)=>F(e.innerType._def,t);function Kc(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,i)=>Kc(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return by(e)}}var by=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function wy(e,t){return{...F(e.innerType._def,t),default:e.defaultValue()}}function xy(e,t){return t.effectStrategy==="input"?F(e.schema._def,t):Pe()}function Ty(e){return{type:"string",enum:Array.from(e.values)}}var _y=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function ky(e,t){const n=[F(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),F(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s),r=[];return n.forEach(s=>{if(_y(s))r.push(...s.allOf);else{let i=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...a}=s;i=a}r.push(i)}}),r.length?{allOf:r}:void 0}function Sy(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var ns=void 0,Oe={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ns===void 0&&(ns=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ns),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Jc(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Ne(n,"email",r.message,t);break;case"format:idn-email":Ne(n,"idn-email",r.message,t);break;case"pattern:zod":ye(n,Oe.email,r.message,t);break}break;case"url":Ne(n,"uri",r.message,t);break;case"uuid":Ne(n,"uuid",r.message,t);break;case"regex":ye(n,r.regex,r.message,t);break;case"cuid":ye(n,Oe.cuid,r.message,t);break;case"cuid2":ye(n,Oe.cuid2,r.message,t);break;case"startsWith":ye(n,RegExp(`^${rs(r.value,t)}`),r.message,t);break;case"endsWith":ye(n,RegExp(`${rs(r.value,t)}$`),r.message,t);break;case"datetime":Ne(n,"date-time",r.message,t);break;case"date":Ne(n,"date",r.message,t);break;case"time":Ne(n,"time",r.message,t);break;case"duration":Ne(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{ye(n,RegExp(rs(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Ne(n,"ipv4",r.message,t),r.version!=="v4"&&Ne(n,"ipv6",r.message,t);break}case"base64url":ye(n,Oe.base64url,r.message,t);break;case"jwt":ye(n,Oe.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&ye(n,Oe.ipv4Cidr,r.message,t),r.version!=="v4"&&ye(n,Oe.ipv6Cidr,r.message,t);break}case"emoji":ye(n,Oe.emoji(),r.message,t);break;case"ulid":{ye(n,Oe.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ne(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{ye(n,Oe.base64,r.message,t);break}}break}case"nanoid":ye(n,Oe.nanoid,r.message,t)}return n}function rs(e,t){return t.patternStrategy==="escape"?Ay(e):e}var Ey=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Ay(e){let t="";for(let n=0;n<e.length;n++)Ey.has(e[n])||(t+="\\"),t+=e[n];return t}function Ne(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function ye(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:ga(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=ga(t,r)}function ga(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},s=r.i?e.source.toLowerCase():e.source;let i="",o=!1,a=!1,l=!1;for(let c=0;c<s.length;c++){if(o){i+=s[c],o=!1;continue}if(r.i){if(a){if(s[c].match(/[a-z]/)){l?(i+=s[c],i+=`${s[c-2]}-${s[c]}`.toUpperCase(),l=!1):s[c+1]==="-"&&((n=s[c+2])!=null&&n.match(/[a-z]/))?(i+=s[c],l=!0):i+=`${s[c]}${s[c].toUpperCase()}`;continue}}else if(s[c].match(/[a-z]/)){i+=`[${s[c]}${s[c].toUpperCase()}]`;continue}}if(r.m){if(s[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(s[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&s[c]==="."){i+=a?`${s[c]}\r
`:`[${s[c]}\r
]`;continue}i+=s[c],s[c]==="\\"?o=!0:a&&s[c]==="]"?a=!1:!a&&s[c]==="["&&(a=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function Xc(e,t){var n,r,s,i,o,a;const l={type:"object",additionalProperties:(n=F(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===N.ZodString&&((s=e.keyType._def.checks)!=null&&s.length)){const{type:c,...u}=Jc(e.keyType._def,t);return{...l,propertyNames:u}}else{if(((i=e.keyType)==null?void 0:i._def.typeName)===N.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===N.ZodBranded&&e.keyType._def.type._def.typeName===N.ZodString&&((a=e.keyType._def.type._def.checks)!=null&&a.length)){const{type:c,...u}=Yc(e.keyType._def,t);return{...l,propertyNames:u}}}return l}function Py(e,t){if(t.mapStrategy==="record")return Xc(e,t);const n=F(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Pe(),r=F(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Pe();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Iy(e){const t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(r.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function Ry(){return{not:Pe()}}function Cy(){return{type:"null"}}var Os={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function My(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Os&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,i)=>{const o=Os[i._def.typeName];return o&&!s.includes(o)?[...s,o]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...s,o];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((i,o,a)=>a.indexOf(i)===o);return{type:s.length>1?s:s[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(i=>!r.includes(i))],[])};return Dy(e,t)}var Dy=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>F(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Oy(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Os[e.innerType._def.typeName],"null"]};const n=F(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Ny(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function $y(e,t){const n={type:"object",properties:{}},r=[],s=e.shape();for(const o in s){let a=s[o];if(a===void 0||a._def===void 0)continue;const l=zy(a),c=F(a._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});c!==void 0&&(n.properties[o]=c,l||r.push(o))}r.length&&(n.required=r);const i=Ly(e,t);return i!==void 0&&(n.additionalProperties=i),n}function Ly(e,t){if(e.catchall._def.typeName!=="ZodNever")return F(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function zy(e){try{return e.isOptional()}catch{return!0}}var Vy=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return F(e.innerType._def,t);const r=F(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Pe()},r]}:Pe()},jy=(e,t)=>{if(t.pipeStrategy==="input")return F(e.in._def,t);if(t.pipeStrategy==="output")return F(e.out._def,t);const n=F(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=F(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function Zy(e,t){return F(e.type._def,t)}function Fy(e,t){const r={type:"array",uniqueItems:!0,items:F(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function By(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>F(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:F(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>F(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Uy(){return{not:Pe()}}function Wy(){return Pe()}var Gy=(e,t)=>F(e.innerType._def,t),Hy=(e,t,n)=>{switch(t){case N.ZodString:return Jc(e,n);case N.ZodNumber:return Ny(e);case N.ZodObject:return $y(e,n);case N.ZodBigInt:return gy(e);case N.ZodBoolean:return yy();case N.ZodDate:return Kc(e,n);case N.ZodUndefined:return Uy();case N.ZodNull:return Cy();case N.ZodArray:return my(e,n);case N.ZodUnion:case N.ZodDiscriminatedUnion:return My(e,n);case N.ZodIntersection:return ky(e,n);case N.ZodTuple:return By(e,n);case N.ZodRecord:return Xc(e,n);case N.ZodLiteral:return Sy(e);case N.ZodEnum:return Ty(e);case N.ZodNativeEnum:return Iy(e);case N.ZodNullable:return Oy(e,n);case N.ZodOptional:return Vy(e,n);case N.ZodMap:return Py(e,n);case N.ZodSet:return Fy(e,n);case N.ZodLazy:return()=>e.getter()._def;case N.ZodPromise:return Zy(e,n);case N.ZodNaN:case N.ZodNever:return Ry();case N.ZodEffects:return xy(e,n);case N.ZodAny:return Pe();case N.ZodUnknown:return Wy();case N.ZodDefault:return wy(e,n);case N.ZodBranded:return Yc(e,n);case N.ZodReadonly:return Gy(e,n);case N.ZodCatch:return vy(e,n);case N.ZodPipeline:return jy(e,n);case N.ZodFunction:case N.ZodVoid:case N.ZodSymbol:return;default:return(r=>{})()}},qy=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function F(e,t,n=!1){var r;const s=t.seen.get(e);if(t.override){const l=(r=t.override)==null?void 0:r.call(t,e,t,s,n);if(l!==py)return l}if(s&&!n){const l=Yy(s,t);if(l!==void 0)return l}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const o=Hy(e,e.typeName,t),a=typeof o=="function"?F(o(),t):o;if(a&&Ky(e,t,a),t.postProcess){const l=t.postProcess(a,e,t);return i.jsonSchema=a,l}return i.jsonSchema=a,a}var Yy=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:qy(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Pe()):t.$refStrategy==="seen"?Pe():void 0}},Ky=(e,t,n)=>(e.description&&(n.description=e.description),n),Jy=e=>{const t=dy(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},Xy=(e,t)=>{var n;const r=Jy(t);let s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((c,[u,h])=>{var f;return{...c,[u]:(f=F(h._def,{...r,currentPath:[...r.basePath,r.definitionPath,u]},!0))!=null?f:Pe()}},{}):void 0;const i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(n=F(e._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1))!=null?n:Pe(),a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(o.title=a);const l=i===void 0?s?{...o,[r.definitionPath]:s}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...s,[i]:o}};return l.$schema="http://json-schema.org/draft-07/schema#",l},Ns=Symbol.for("vercel.ai.schema");function Qy(e){let t;return()=>(t==null&&(t=e()),t)}function $r(e,{validate:t}={}){return{[Ns]:!0,_type:void 0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function ev(e){return typeof e=="object"&&e!==null&&Ns in e&&e[Ns]===!0&&"jsonSchema"in e&&"validate"in e}function Pi(e){return e==null?$r({properties:{},additionalProperties:!1}):ev(e)?e:"~standard"in e?e["~standard"].vendor==="zod"?Qc(e):tv(e):e()}function tv(e){return $r(()=>Ai(e["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async t=>{const n=await e["~standard"].validate(t);return"value"in n?{success:!0,value:n.value}:{success:!1,error:new yr({value:t,cause:n.issues})}}})}function nv(e,t){var n;const r=(n=void 0)!=null?n:!1;return $r(()=>Xy(e,{$refStrategy:r?"root":"none"}),{validate:async s=>{const i=await e.safeParseAsync(s);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function rv(e,t){var n;const r=(n=void 0)!=null?n:!1;return $r(()=>Ai(Km(e,{target:"draft-7",io:"input",reused:r?"ref":"inline"})),{validate:async s=>{const i=await Vc(e,s);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}function sv(e){return"_zod"in e}function Qc(e,t){return sv(e)?rv(e):nv(e)}async function ya({value:e,schema:t}){const n=await En({value:e,schema:t});if(!n.success)throw yr.wrap({value:e,cause:n.error});return n.value}async function En({value:e,schema:t}){const n=Pi(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:yr.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:yr.wrap({value:e,cause:r}),rawValue:e}}}async function St({text:e,schema:t}){try{const n=fy(e);return t==null?{success:!0,value:n,rawValue:n}:await En({value:n,schema:t})}catch(n){return{success:!1,error:Fo.isInstance(n)?n:new Fo({text:e,cause:n}),rawValue:void 0}}}function iv({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new ay).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await St({text:n,schema:t}))}}))}async function it(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var eu="vercel.ai.error",ov=Symbol.for(eu),va,ba,Wt=class tu extends(ba=Error,va=ov,ba){constructor({name:t,message:n,cause:r}){super(n),this[va]=!0,this.name=t,this.cause=r}static isInstance(t){return tu.hasMarker(t,eu)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};function av(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var nu="AI_TypeValidationError",ru=`vercel.ai.error.${nu}`,lv=Symbol.for(ru),wa,xa,su=class $s extends(xa=Wt,wa=lv,xa){constructor({value:t,cause:n}){super({name:nu,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${av(n)}`,cause:n}),this[wa]=!0,this.value=t}static isInstance(t){return Wt.hasMarker(t,ru)}static wrap({value:t,cause:n}){return $s.isInstance(n)&&n.value===t?n:new $s({value:t,cause:n})}},cv=Object.defineProperty,uv=(e,t)=>{for(var n in t)cv(e,n,{get:t[n],enumerable:!0})},iu="AI_NoObjectGeneratedError",ou=`vercel.ai.error.${iu}`,hv=Symbol.for(ou),au,at=class extends Wt{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:s,finishReason:i}){super({name:iu,message:e,cause:t}),this[au]=!0,this.text=n,this.response=r,this.usage=s,this.finishReason=i}static isInstance(e){return Wt.hasMarker(e,ou)}};au=hv;var lu="AI_UIMessageStreamError",cu=`vercel.ai.error.${lu}`,fv=Symbol.for(cu),uu,$t=class extends Wt{constructor({chunkType:e,chunkId:t,message:n}){super({name:lu,message:n}),this[uu]=!0,this.chunkType=e,this.chunkId=t}static isInstance(e){return Wt.hasMarker(e,cu)}};uu=fv;var Ta="6.0.39",hu=_e([S(),xr(Uint8Array),xr(ArrayBuffer),qc(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]),An=ty(()=>_e([Cg(),S(),Ag(),be(),Sn(S(),An.optional()),Ht(An)])),L=Sn(S(),Sn(S(),An.optional())),fu=B({type:O("text"),text:S(),providerOptions:L.optional()}),pv=B({type:O("image"),image:_e([hu,xr(URL)]),mediaType:S().optional(),providerOptions:L.optional()}),pu=B({type:O("file"),data:_e([hu,xr(URL)]),filename:S().optional(),mediaType:S(),providerOptions:L.optional()}),dv=B({type:O("reasoning"),text:S(),providerOptions:L.optional()}),mv=B({type:O("tool-call"),toolCallId:S(),toolName:S(),input:Ue(),providerOptions:L.optional(),providerExecuted:be().optional()}),gv=$g("type",[B({type:O("text"),value:S(),providerOptions:L.optional()}),B({type:O("json"),value:An,providerOptions:L.optional()}),B({type:O("execution-denied"),reason:S().optional(),providerOptions:L.optional()}),B({type:O("error-text"),value:S(),providerOptions:L.optional()}),B({type:O("error-json"),value:An,providerOptions:L.optional()}),B({type:O("content"),value:Ht(_e([B({type:O("text"),text:S(),providerOptions:L.optional()}),B({type:O("media"),data:S(),mediaType:S()}),B({type:O("file-data"),data:S(),mediaType:S(),filename:S().optional(),providerOptions:L.optional()}),B({type:O("file-url"),url:S(),providerOptions:L.optional()}),B({type:O("file-id"),fileId:_e([S(),Sn(S(),S())]),providerOptions:L.optional()}),B({type:O("image-data"),data:S(),mediaType:S(),providerOptions:L.optional()}),B({type:O("image-url"),url:S(),providerOptions:L.optional()}),B({type:O("image-file-id"),fileId:_e([S(),Sn(S(),S())]),providerOptions:L.optional()}),B({type:O("custom"),providerOptions:L.optional()})]))})]),du=B({type:O("tool-result"),toolCallId:S(),toolName:S(),output:gv,providerOptions:L.optional()}),yv=B({type:O("tool-approval-request"),approvalId:S(),toolCallId:S()}),vv=B({type:O("tool-approval-response"),approvalId:S(),approved:be(),reason:S().optional()}),bv=B({role:O("system"),content:S(),providerOptions:L.optional()}),wv=B({role:O("user"),content:_e([S(),Ht(_e([fu,pv,pu]))]),providerOptions:L.optional()}),xv=B({role:O("assistant"),content:_e([S(),Ht(_e([fu,pu,dv,mv,du,yv]))]),providerOptions:L.optional()}),Tv=B({role:O("tool"),content:Ht(_e([du,vv])),providerOptions:L.optional()});_e([bv,wv,xv,Tv]);function mu(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const s=t[r];if(s===void 0)continue;const i=r in e?e[r]:void 0,o=s!==null&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&!(s instanceof RegExp),a=i!=null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp);o&&a?n[r]=mu(i,s):n[r]=s}return n}var _v={};uv(_v,{array:()=>Av,choice:()=>Pv,json:()=>Iv,object:()=>Ev,text:()=>Sv});function kv(e){const t=["ROOT"];let n=-1,r=null;function s(l,c,u){switch(l){case'"':{n=c,t.pop(),t.push(u),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=c,r=c,t.pop(),t.push(u),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(u),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=c,t.pop(),t.push(u),t.push("INSIDE_NUMBER");break}case"{":{n=c,t.pop(),t.push(u),t.push("INSIDE_OBJECT_START");break}case"[":{n=c,t.pop(),t.push(u),t.push("INSIDE_ARRAY_START");break}}}function i(l,c){switch(l){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=c,t.pop();break}}}function o(l,c){switch(l){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=c,t.pop();break}}}for(let l=0;l<e.length;l++){const c=e[l];switch(t[t.length-1]){case"ROOT":s(c,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(c){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=l,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(c){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(c){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(c){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(c,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(c,l);break}case"INSIDE_STRING":{switch(c){case'"':{t.pop(),n=l;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=l}break}case"INSIDE_ARRAY_START":{switch(c){case"]":{n=l,t.pop();break}default:{n=l,s(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(c){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=l,t.pop();break}default:{n=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(c,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=l;break}case"INSIDE_NUMBER":{switch(c){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=l;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(c,l);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(c,l);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const h=e.substring(r,l+1);!"false".startsWith(h)&&!"true".startsWith(h)&&!"null".startsWith(h)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(c,l):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&o(c,l)):n=l;break}}}let a=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--)switch(t[l]){case"INSIDE_STRING":{a+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{a+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{a+="]";break}case"INSIDE_LITERAL":{const u=e.substring(r,e.length);"true".startsWith(u)?a+="true".slice(u.length):"false".startsWith(u)?a+="false".slice(u.length):"null".startsWith(u)&&(a+="null".slice(u.length))}}return a}async function Ln(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await St({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await St({text:kv(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Sv=()=>({name:"text",responseFormat:Promise.resolve({type:"text"}),async parseCompleteOutput({text:e}){return e},async parsePartialOutput({text:e}){return{partial:e}},createElementStreamTransform(){}}),Ev=({schema:e,name:t,description:n})=>{const r=Pi(e);return{name:"object",responseFormat:it(r.jsonSchema).then(s=>({type:"json",schema:s,...t!=null&&{name:t},...n!=null&&{description:n}})),async parseCompleteOutput({text:s},i){const o=await St({text:s});if(!o.success)throw new at({message:"No object generated: could not parse the response.",cause:o.error,text:s,response:i.response,usage:i.usage,finishReason:i.finishReason});const a=await En({value:o.value,schema:r});if(!a.success)throw new at({message:"No object generated: response did not match schema.",cause:a.error,text:s,response:i.response,usage:i.usage,finishReason:i.finishReason});return a.value},async parsePartialOutput({text:s}){const i=await Ln(s);switch(i.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:i.value}}},createElementStreamTransform(){}}},Av=({element:e,name:t,description:n})=>{const r=Pi(e);return{name:"array",responseFormat:it(r.jsonSchema).then(s=>{const{$schema:i,...o}=s;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:o}},required:["elements"],additionalProperties:!1},...t!=null&&{name:t},...n!=null&&{description:n}}}),async parseCompleteOutput({text:s},i){const o=await St({text:s});if(!o.success)throw new at({message:"No object generated: could not parse the response.",cause:o.error,text:s,response:i.response,usage:i.usage,finishReason:i.finishReason});const a=o.value;if(a==null||typeof a!="object"||!("elements"in a)||!Array.isArray(a.elements))throw new at({message:"No object generated: response did not match schema.",cause:new su({value:a,cause:"response must be an object with an elements array"}),text:s,response:i.response,usage:i.usage,finishReason:i.finishReason});for(const l of a.elements){const c=await En({value:l,schema:r});if(!c.success)throw new at({message:"No object generated: response did not match schema.",cause:c.error,text:s,response:i.response,usage:i.usage,finishReason:i.finishReason})}return a.elements},async parsePartialOutput({text:s}){const i=await Ln(s);switch(i.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const o=i.value;if(o==null||typeof o!="object"||!("elements"in o)||!Array.isArray(o.elements))return;const a=i.state==="repaired-parse"&&o.elements.length>0?o.elements.slice(0,-1):o.elements,l=[];for(const c of a){const u=await En({value:c,schema:r});u.success&&l.push(u.value)}return{partial:l}}}},createElementStreamTransform(){let s=0;return new TransformStream({transform({partialOutput:i},o){if(i!=null)for(;s<i.length;s++)o.enqueue(i[s])}})}}},Pv=({options:e,name:t,description:n})=>({name:"choice",responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},...t!=null&&{name:t},...n!=null&&{description:n}}),async parseCompleteOutput({text:r},s){const i=await St({text:r});if(!i.success)throw new at({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:s.response,usage:s.usage,finishReason:s.finishReason});const o=i.value;if(o==null||typeof o!="object"||!("result"in o)||typeof o.result!="string"||!e.includes(o.result))throw new at({message:"No object generated: response did not match schema.",cause:new su({value:o,cause:"response must be an object that contains a choice value."}),text:r,response:s.response,usage:s.usage,finishReason:s.finishReason});return o.result},async parsePartialOutput({text:r}){const s=await Ln(r);switch(s.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{const i=s.value;if(i==null||typeof i!="object"||!("result"in i)||typeof i.result!="string")return;const o=e.filter(a=>a.startsWith(i.result));return s.state==="successful-parse"?o.includes(i.result)?{partial:i.result}:void 0:o.length===1?{partial:o[0]}:void 0}}},createElementStreamTransform(){}}),Iv=({name:e,description:t}={})=>({name:"json",responseFormat:Promise.resolve({type:"json",...e!=null&&{name:e},...t!=null&&{description:t}}),async parseCompleteOutput({text:n},r){const s=await St({text:n});if(!s.success)throw new at({message:"No object generated: could not parse the response.",cause:s.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return s.value},async parsePartialOutput({text:n}){const r=await Ln(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return r.value===void 0?void 0:{partial:r.value}}},createElementStreamTransform(){}});$n({prefix:"aitxt",size:24});(class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}});var Rv=Qy(()=>Qc(_e([H({type:O("text-start"),id:S(),providerMetadata:L.optional()}),H({type:O("text-delta"),id:S(),delta:S(),providerMetadata:L.optional()}),H({type:O("text-end"),id:S(),providerMetadata:L.optional()}),H({type:O("error"),errorText:S()}),H({type:O("tool-input-start"),toolCallId:S(),toolName:S(),providerExecuted:be().optional(),providerMetadata:L.optional(),dynamic:be().optional(),title:S().optional()}),H({type:O("tool-input-delta"),toolCallId:S(),inputTextDelta:S()}),H({type:O("tool-input-available"),toolCallId:S(),toolName:S(),input:Ue(),providerExecuted:be().optional(),providerMetadata:L.optional(),dynamic:be().optional(),title:S().optional()}),H({type:O("tool-input-error"),toolCallId:S(),toolName:S(),input:Ue(),providerExecuted:be().optional(),providerMetadata:L.optional(),dynamic:be().optional(),errorText:S(),title:S().optional()}),H({type:O("tool-approval-request"),approvalId:S(),toolCallId:S()}),H({type:O("tool-output-available"),toolCallId:S(),output:Ue(),providerExecuted:be().optional(),dynamic:be().optional(),preliminary:be().optional()}),H({type:O("tool-output-error"),toolCallId:S(),errorText:S(),providerExecuted:be().optional(),dynamic:be().optional()}),H({type:O("tool-output-denied"),toolCallId:S()}),H({type:O("reasoning-start"),id:S(),providerMetadata:L.optional()}),H({type:O("reasoning-delta"),id:S(),delta:S(),providerMetadata:L.optional()}),H({type:O("reasoning-end"),id:S(),providerMetadata:L.optional()}),H({type:O("source-url"),sourceId:S(),url:S(),title:S().optional(),providerMetadata:L.optional()}),H({type:O("source-document"),sourceId:S(),mediaType:S(),title:S(),filename:S().optional(),providerMetadata:L.optional()}),H({type:O("file"),url:S(),mediaType:S(),providerMetadata:L.optional()}),H({type:qc(e=>typeof e=="string"&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:S().optional(),data:Ue(),transient:be().optional()}),H({type:O("start-step")}),H({type:O("finish-step")}),H({type:O("start"),messageId:S().optional(),messageMetadata:Ue().optional()}),H({type:O("finish"),finishReason:Wc(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:Ue().optional()}),H({type:O("abort"),reason:S().optional()}),H({type:O("message-metadata"),messageMetadata:Ue()})])));function Cv(e){return e.type.startsWith("data-")}function Ls(e){return e.type.startsWith("tool-")}function Mv(e){return e.type==="dynamic-tool"}function zs(e){return Ls(e)||Mv(e)}function _a(e){return e.type.split("-").slice(1).join("-")}function Dv({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Ov({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:s,onToolCall:i,onData:o}){return e.pipeThrough(new TransformStream({async transform(a,l){await r(async({state:c,write:u})=>{var h,f,d,p;function g(m){const k=c.message.parts.filter(zs).find(I=>I.toolCallId===m);if(k==null)throw new $t({chunkType:"tool-invocation",chunkId:m,message:`No tool invocation found for tool call ID "${m}".`});return k}function v(m){var T;const k=c.message.parts.find(A=>Ls(A)&&A.toolCallId===m.toolCallId),I=m,R=k;k!=null?(k.state=m.state,R.input=I.input,R.output=I.output,R.errorText=I.errorText,R.rawInput=I.rawInput,R.preliminary=I.preliminary,m.title!==void 0&&(R.title=m.title),R.providerExecuted=(T=I.providerExecuted)!=null?T:k.providerExecuted,I.providerMetadata!=null&&(k.callProviderMetadata=I.providerMetadata)):c.message.parts.push({type:`tool-${m.toolName}`,toolCallId:m.toolCallId,state:m.state,title:m.title,input:I.input,output:I.output,rawInput:I.rawInput,errorText:I.errorText,providerExecuted:I.providerExecuted,preliminary:I.preliminary,...I.providerMetadata!=null?{callProviderMetadata:I.providerMetadata}:{}})}function b(m){var T,k;const I=c.message.parts.find(U=>U.type==="dynamic-tool"&&U.toolCallId===m.toolCallId),R=m,A=I;I!=null?(I.state=m.state,A.toolName=m.toolName,A.input=R.input,A.output=R.output,A.errorText=R.errorText,A.rawInput=(T=R.rawInput)!=null?T:A.rawInput,A.preliminary=R.preliminary,m.title!==void 0&&(A.title=m.title),A.providerExecuted=(k=R.providerExecuted)!=null?k:I.providerExecuted,R.providerMetadata!=null&&(I.callProviderMetadata=R.providerMetadata)):c.message.parts.push({type:"dynamic-tool",toolName:m.toolName,toolCallId:m.toolCallId,state:m.state,input:R.input,output:R.output,errorText:R.errorText,preliminary:R.preliminary,providerExecuted:R.providerExecuted,title:m.title,...R.providerMetadata!=null?{callProviderMetadata:R.providerMetadata}:{}})}async function w(m){if(m!=null){const T=c.message.metadata!=null?mu(c.message.metadata,m):m;t!=null&&await ya({value:T,schema:t}),c.message.metadata=T}}switch(a.type){case"text-start":{const m={type:"text",text:"",providerMetadata:a.providerMetadata,state:"streaming"};c.activeTextParts[a.id]=m,c.message.parts.push(m),u();break}case"text-delta":{const m=c.activeTextParts[a.id];if(m==null)throw new $t({chunkType:"text-delta",chunkId:a.id,message:`Received text-delta for missing text part with ID "${a.id}". Ensure a "text-start" chunk is sent before any "text-delta" chunks.`});m.text+=a.delta,m.providerMetadata=(h=a.providerMetadata)!=null?h:m.providerMetadata,u();break}case"text-end":{const m=c.activeTextParts[a.id];if(m==null)throw new $t({chunkType:"text-end",chunkId:a.id,message:`Received text-end for missing text part with ID "${a.id}". Ensure a "text-start" chunk is sent before any "text-end" chunks.`});m.state="done",m.providerMetadata=(f=a.providerMetadata)!=null?f:m.providerMetadata,delete c.activeTextParts[a.id],u();break}case"reasoning-start":{const m={type:"reasoning",text:"",providerMetadata:a.providerMetadata,state:"streaming"};c.activeReasoningParts[a.id]=m,c.message.parts.push(m),u();break}case"reasoning-delta":{const m=c.activeReasoningParts[a.id];if(m==null)throw new $t({chunkType:"reasoning-delta",chunkId:a.id,message:`Received reasoning-delta for missing reasoning part with ID "${a.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-delta" chunks.`});m.text+=a.delta,m.providerMetadata=(d=a.providerMetadata)!=null?d:m.providerMetadata,u();break}case"reasoning-end":{const m=c.activeReasoningParts[a.id];if(m==null)throw new $t({chunkType:"reasoning-end",chunkId:a.id,message:`Received reasoning-end for missing reasoning part with ID "${a.id}". Ensure a "reasoning-start" chunk is sent before any "reasoning-end" chunks.`});m.providerMetadata=(p=a.providerMetadata)!=null?p:m.providerMetadata,m.state="done",delete c.activeReasoningParts[a.id],u();break}case"file":{c.message.parts.push({type:"file",mediaType:a.mediaType,url:a.url}),u();break}case"source-url":{c.message.parts.push({type:"source-url",sourceId:a.sourceId,url:a.url,title:a.title,providerMetadata:a.providerMetadata}),u();break}case"source-document":{c.message.parts.push({type:"source-document",sourceId:a.sourceId,mediaType:a.mediaType,title:a.title,filename:a.filename,providerMetadata:a.providerMetadata}),u();break}case"tool-input-start":{const m=c.message.parts.filter(Ls);c.partialToolCalls[a.toolCallId]={text:"",toolName:a.toolName,index:m.length,dynamic:a.dynamic,title:a.title},a.dynamic?b({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0,providerExecuted:a.providerExecuted,title:a.title,providerMetadata:a.providerMetadata}):v({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0,providerExecuted:a.providerExecuted,title:a.title,providerMetadata:a.providerMetadata}),u();break}case"tool-input-delta":{const m=c.partialToolCalls[a.toolCallId];if(m==null)throw new $t({chunkType:"tool-input-delta",chunkId:a.toolCallId,message:`Received tool-input-delta for missing tool call with ID "${a.toolCallId}". Ensure a "tool-input-start" chunk is sent before any "tool-input-delta" chunks.`});m.text+=a.inputTextDelta;const{value:T}=await Ln(m.text);m.dynamic?b({toolCallId:a.toolCallId,toolName:m.toolName,state:"input-streaming",input:T,title:m.title}):v({toolCallId:a.toolCallId,toolName:m.toolName,state:"input-streaming",input:T,title:m.title}),u();break}case"tool-input-available":{a.dynamic?b({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,title:a.title}):v({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata,title:a.title}),u(),i&&!a.providerExecuted&&await i({toolCall:a});break}case"tool-input-error":{a.dynamic?b({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:a.input,errorText:a.errorText,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}):v({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:void 0,rawInput:a.input,errorText:a.errorText,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}),u();break}case"tool-approval-request":{const m=g(a.toolCallId);m.state="approval-requested",m.approval={id:a.approvalId},u();break}case"tool-output-denied":{const m=g(a.toolCallId);m.state="output-denied",u();break}case"tool-output-available":{const m=g(a.toolCallId);m.type==="dynamic-tool"?b({toolCallId:a.toolCallId,toolName:m.toolName,state:"output-available",input:m.input,output:a.output,preliminary:a.preliminary,providerExecuted:a.providerExecuted,title:m.title}):v({toolCallId:a.toolCallId,toolName:_a(m),state:"output-available",input:m.input,output:a.output,providerExecuted:a.providerExecuted,preliminary:a.preliminary,title:m.title}),u();break}case"tool-output-error":{const m=g(a.toolCallId);m.type==="dynamic-tool"?b({toolCallId:a.toolCallId,toolName:m.toolName,state:"output-error",input:m.input,errorText:a.errorText,providerExecuted:a.providerExecuted,title:m.title}):v({toolCallId:a.toolCallId,toolName:_a(m),state:"output-error",input:m.input,rawInput:m.rawInput,errorText:a.errorText,providerExecuted:a.providerExecuted,title:m.title}),u();break}case"start-step":{c.message.parts.push({type:"step-start"});break}case"finish-step":{c.activeTextParts={},c.activeReasoningParts={};break}case"start":{a.messageId!=null&&(c.message.id=a.messageId),await w(a.messageMetadata),(a.messageId!=null||a.messageMetadata!=null)&&u();break}case"finish":{a.finishReason!=null&&(c.finishReason=a.finishReason),await w(a.messageMetadata),a.messageMetadata!=null&&u();break}case"message-metadata":{await w(a.messageMetadata),a.messageMetadata!=null&&u();break}case"error":{s?.(new Error(a.errorText));break}default:if(Cv(a)){n?.[a.type]!=null&&await ya({value:a.data,schema:n[a.type]});const m=a;if(m.transient){o?.(m);break}const T=m.id!=null?c.message.parts.find(k=>m.type===k.type&&m.id===k.id):void 0;T!=null?T.data=m.data:c.message.parts.push(m),o?.(m),u()}}l.enqueue(a)})}}))}async function Nv({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}$n({prefix:"aitxt",size:24});$n({prefix:"aiobj",size:24});var $v=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise((t,n)=>{this.queue.push(async()=>{try{await e(),t()}catch(r){n(r)}}),this.processQueue()})}};$n({prefix:"aiobj",size:24});async function Lv(e){if(e==null)return[];if(!globalThis.FileList||!(e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map(async t=>{const{name:n,type:r}=t,s=await new Promise((i,o)=>{const a=new FileReader;a.onload=l=>{var c;i((c=l.target)==null?void 0:c.result)},a.onerror=l=>o(l),a.readAsDataURL(t)});return{type:"file",mediaType:r,filename:n,url:s}}))}var zv=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:s,prepareSendMessagesRequest:i,prepareReconnectToStreamRequest:o}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=s,this.prepareSendMessagesRequest=i,this.prepareReconnectToStreamRequest=o}async sendMessages({abortSignal:e,...t}){var n,r,s,i,o;const a=await it(this.body),l=await it(this.headers),c=await it(this.credentials),u={...yt(l),...yt(t.headers)},h=await((n=this.prepareSendMessagesRequest)==null?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...a,...t.body},headers:u,credentials:c,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),f=(r=h?.api)!=null?r:this.api,d=h?.headers!==void 0?yt(h.headers):u,p=h?.body!==void 0?h.body:{...a,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},g=(s=h?.credentials)!=null?s:c,b=await((i=this.fetch)!=null?i:globalThis.fetch)(f,{method:"POST",headers:pa({"Content-Type":"application/json",...d},`ai-sdk/${Ta}`,fa()),body:JSON.stringify(p),credentials:g,signal:e});if(!b.ok)throw new Error((o=await b.text())!=null?o:"Failed to fetch the chat response.");if(!b.body)throw new Error("The response body is empty.");return this.processResponseStream(b.body)}async reconnectToStream(e){var t,n,r,s,i;const o=await it(this.body),a=await it(this.headers),l=await it(this.credentials),c={...yt(a),...yt(e.headers)},u=await((t=this.prepareReconnectToStreamRequest)==null?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:c,credentials:l,requestMetadata:e.metadata})),h=(n=u?.api)!=null?n:`${this.api}/${e.chatId}/stream`,f=u?.headers!==void 0?yt(u.headers):c,d=(r=u?.credentials)!=null?r:l,g=await((s=this.fetch)!=null?s:globalThis.fetch)(h,{method:"GET",headers:pa(f,`ai-sdk/${Ta}`,fa()),credentials:d});if(g.status===204)return null;if(!g.ok)throw new Error((i=await g.text())!=null?i:"Failed to fetch the chat response.");if(!g.body)throw new Error("The response body is empty.");return this.processResponseStream(g.body)}},gu=class extends zv{constructor(e={}){super(e)}processResponseStream(e){return iv({stream:e,schema:Rv}).pipeThrough(new TransformStream({async transform(t,n){if(!t.success)throw t.error;n.enqueue(t.value)}}))}},Vv=class{constructor({generateId:e=ly,id:t=e(),transport:n=new gu,messageMetadataSchema:r,dataPartSchemas:s,state:i,onError:o,onToolCall:a,onFinish:l,onData:c,sendAutomaticallyWhen:u}){this.activeResponse=void 0,this.jobExecutor=new $v,this.sendMessage=async(h,f)=>{var d,p,g,v;if(h==null){await this.makeRequest({trigger:"submit-message",messageId:(d=this.lastMessage)==null?void 0:d.id,...f});return}let b;if("text"in h||"files"in h?b={parts:[...Array.isArray(h.files)?h.files:await Lv(h.files),..."text"in h&&h.text!=null?[{type:"text",text:h.text}]:[]]}:b=h,h.messageId!=null){const w=this.state.messages.findIndex(m=>m.id===h.messageId);if(w===-1)throw new Error(`message with id ${h.messageId} not found`);if(this.state.messages[w].role!=="user")throw new Error(`message with id ${h.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,w+1),this.state.replaceMessage(w,{...b,id:h.messageId,role:(p=b.role)!=null?p:"user",metadata:h.metadata})}else this.state.pushMessage({...b,id:(g=b.id)!=null?g:this.generateId(),role:(v=b.role)!=null?v:"user",metadata:h.metadata});await this.makeRequest({trigger:"submit-message",messageId:h.messageId,...f})},this.regenerate=async({messageId:h,...f}={})=>{const d=h==null?this.state.messages.length-1:this.state.messages.findIndex(p=>p.id===h);if(d===-1)throw new Error(`message ${h} not found`);this.state.messages=this.state.messages.slice(0,this.messages[d].role==="assistant"?d:d+1),await this.makeRequest({trigger:"regenerate-message",messageId:h,...f})},this.resumeStream=async(h={})=>{await this.makeRequest({trigger:"resume-stream",...h})},this.clearError=()=>{this.status==="error"&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolApprovalResponse=async({id:h,approved:f,reason:d})=>this.jobExecutor.run(async()=>{var p,g;const v=this.state.messages,b=v[v.length-1],w=m=>zs(m)&&m.state==="approval-requested"&&m.approval.id===h?{...m,state:"approval-responded",approval:{id:h,approved:f,reason:d}}:m;this.state.replaceMessage(v.length-1,{...b,parts:b.parts.map(w)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(w)),this.status!=="streaming"&&this.status!=="submitted"&&((p=this.sendAutomaticallyWhen)!=null&&p.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(g=this.lastMessage)==null?void 0:g.id})}),this.addToolOutput=async({state:h="output-available",tool:f,toolCallId:d,output:p,errorText:g})=>this.jobExecutor.run(async()=>{var v,b;const w=this.state.messages,m=w[w.length-1],T=k=>zs(k)&&k.toolCallId===d?{...k,state:h,output:p,errorText:g}:k;this.state.replaceMessage(w.length-1,{...m,parts:m.parts.map(T)}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map(T)),this.status!=="streaming"&&this.status!=="submitted"&&((v=this.sendAutomaticallyWhen)!=null&&v.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:(b=this.lastMessage)==null?void 0:b.id})}),this.addToolResult=this.addToolOutput,this.stop=async()=>{var h;this.status!=="streaming"&&this.status!=="submitted"||(h=this.activeResponse)!=null&&h.abortController&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=s,this.state=i,this.onError=o,this.onToolCall=a,this.onFinish=l,this.onData=c,this.sendAutomaticallyWhen=u}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:s}){var i,o,a,l;this.setStatus({status:"submitted",error:void 0});const c=this.lastMessage;let u=!1,h=!1,f=!1;try{const d={state:Dv({lastMessage:this.state.snapshot(c),messageId:this.generateId()}),abortController:new AbortController};d.abortController.signal.addEventListener("abort",()=>{u=!0}),this.activeResponse=d;let p;if(e==="resume-stream"){const v=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(v==null){this.setStatus({status:"ready"});return}p=v}else p=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:d.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:s});const g=v=>this.jobExecutor.run(()=>v({state:d.state,write:()=>{var b;this.setStatus({status:"streaming"}),d.state.message.id===((b=this.lastMessage)==null?void 0:b.id)?this.state.replaceMessage(this.state.messages.length-1,d.state.message):this.state.pushMessage(d.state.message)}}));await Nv({stream:Ov({stream:p,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:g,onError:v=>{throw v}}),onError:v=>{throw v}}),this.setStatus({status:"ready"})}catch(d){if(u||d.name==="AbortError")return u=!0,this.setStatus({status:"ready"}),null;f=!0,d instanceof TypeError&&(d.message.toLowerCase().includes("fetch")||d.message.toLowerCase().includes("network"))&&(h=!0),this.onError&&d instanceof Error&&this.onError(d),this.setStatus({status:"error",error:d})}finally{try{(o=this.onFinish)==null||o.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:u,isDisconnect:h,isError:f,finishReason:(i=this.activeResponse)==null?void 0:i.state.finishReason})}catch(d){console.error(d)}this.activeResponse=void 0}(a=this.sendAutomaticallyWhen)!=null&&a.call(this,{messages:this.state.messages})&&!f&&await this.makeRequest({trigger:"submit-message",messageId:(l=this.lastMessage)==null?void 0:l.id,metadata:t,headers:n,body:r})}},ss,ka;function jv(){if(ka)return ss;ka=1;function e(t,n){if(typeof t!="function")throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof t}\`.`);let r,s=0;return function(...o){clearTimeout(r);const a=Date.now(),l=a-s,c=n-l;c<=0?(s=a,t.apply(this,o)):r=setTimeout(()=>{s=Date.now(),t.apply(this,o)},c)}}return ss=e,ss}var Zv=jv();const Fv=gf(Zv);var yu=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},q=(e,t,n)=>(yu(e,t,"read from private field"),n?n.call(e):t.get(e)),Fe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},rt=(e,t,n,r)=>(yu(e,t,"write to private field"),t.set(e,n),n);function Bv(e,t){return t!=null?Fv(e,t):e}var Ie,ar,lr,fn,pn,dn,Lt,Vs,js,Uv=class{constructor(e=[]){Fe(this,Ie,void 0),Fe(this,ar,"ready"),Fe(this,lr,void 0),Fe(this,fn,new Set),Fe(this,pn,new Set),Fe(this,dn,new Set),this.pushMessage=t=>{rt(this,Ie,q(this,Ie).concat(t)),q(this,Lt).call(this)},this.popMessage=()=>{rt(this,Ie,q(this,Ie).slice(0,-1)),q(this,Lt).call(this)},this.replaceMessage=(t,n)=>{rt(this,Ie,[...q(this,Ie).slice(0,t),this.snapshot(n),...q(this,Ie).slice(t+1)]),q(this,Lt).call(this)},this.snapshot=t=>structuredClone(t),this["~registerMessagesCallback"]=(t,n)=>{const r=n?Bv(t,n):t;return q(this,fn).add(r),()=>{q(this,fn).delete(r)}},this["~registerStatusCallback"]=t=>(q(this,pn).add(t),()=>{q(this,pn).delete(t)}),this["~registerErrorCallback"]=t=>(q(this,dn).add(t),()=>{q(this,dn).delete(t)}),Fe(this,Lt,()=>{q(this,fn).forEach(t=>t())}),Fe(this,Vs,()=>{q(this,pn).forEach(t=>t())}),Fe(this,js,()=>{q(this,dn).forEach(t=>t())}),rt(this,Ie,e)}get status(){return q(this,ar)}set status(e){rt(this,ar,e),q(this,Vs).call(this)}get error(){return q(this,lr)}set error(e){rt(this,lr,e),q(this,js).call(this)}get messages(){return q(this,Ie)}set messages(e){rt(this,Ie,[...e]),q(this,Lt).call(this)}};Ie=new WeakMap;ar=new WeakMap;lr=new WeakMap;fn=new WeakMap;pn=new WeakMap;dn=new WeakMap;Lt=new WeakMap;Vs=new WeakMap;js=new WeakMap;var zt,Sa=class extends Vv{constructor({messages:e,...t}){const n=new Uv(e);super({...t,state:n}),Fe(this,zt,void 0),this["~registerMessagesCallback"]=(r,s)=>q(this,zt)["~registerMessagesCallback"](r,s),this["~registerStatusCallback"]=r=>q(this,zt)["~registerStatusCallback"](r),this["~registerErrorCallback"]=r=>q(this,zt)["~registerErrorCallback"](r),rt(this,zt,n)}};zt=new WeakMap;function Wv({experimental_throttle:e,resume:t=!1,...n}={}){const r=E.useRef("chat"in n?{}:{onToolCall:n.onToolCall,onData:n.onData,onFinish:n.onFinish,onError:n.onError,sendAutomaticallyWhen:n.sendAutomaticallyWhen});"chat"in n||(r.current={onToolCall:n.onToolCall,onData:n.onData,onFinish:n.onFinish,onError:n.onError,sendAutomaticallyWhen:n.sendAutomaticallyWhen});const s={...n,onToolCall:f=>{var d,p;return(p=(d=r.current).onToolCall)==null?void 0:p.call(d,f)},onData:f=>{var d,p;return(p=(d=r.current).onData)==null?void 0:p.call(d,f)},onFinish:f=>{var d,p;return(p=(d=r.current).onFinish)==null?void 0:p.call(d,f)},onError:f=>{var d,p;return(p=(d=r.current).onError)==null?void 0:p.call(d,f)},sendAutomaticallyWhen:f=>{var d,p,g;return(g=(p=(d=r.current).sendAutomaticallyWhen)==null?void 0:p.call(d,f))!=null?g:!1}},i=E.useRef("chat"in n?n.chat:new Sa(s));("chat"in n&&n.chat!==i.current||"id"in n&&i.current.id!==n.id)&&(i.current="chat"in n?n.chat:new Sa(s));const a=E.useCallback(f=>i.current["~registerMessagesCallback"](f,e),[e,i.current.id]),l=E.useSyncExternalStore(a,()=>i.current.messages,()=>i.current.messages),c=E.useSyncExternalStore(i.current["~registerStatusCallback"],()=>i.current.status,()=>i.current.status),u=E.useSyncExternalStore(i.current["~registerErrorCallback"],()=>i.current.error,()=>i.current.error),h=E.useCallback(f=>{typeof f=="function"&&(f=f(i.current.messages)),i.current.messages=f},[i]);return E.useEffect(()=>{t&&i.current.resumeStream()},[t,i]),{id:i.current.id,messages:l,setMessages:h,sendMessage:i.current.sendMessage,regenerate:i.current.regenerate,clearError:i.current.clearError,stop:i.current.stop,error:u,resumeStream:i.current.resumeStream,status:c,addToolResult:i.current.addToolOutput,addToolOutput:i.current.addToolOutput,addToolApprovalResponse:i.current.addToolApprovalResponse}}var vu={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ea=Tt.createContext&&Tt.createContext(vu),Gv=["attr","size","title"];function Hv(e,t){if(e==null)return{};var n=qv(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qv(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(this,arguments)}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aa(Object(n),!0).forEach(function(r){Yv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yv(e,t,n){return t=Kv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kv(e){var t=Jv(e,"string");return typeof t=="symbol"?t:t+""}function Jv(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bu(e){return e&&e.map((t,n)=>Tt.createElement(t.tag,_r({key:n},t.attr),bu(t.child)))}function Xv(e){return t=>Tt.createElement(Qv,Tr({attr:_r({},e.attr)},t),bu(e.child))}function Qv(e){var t=n=>{var{attr:r,size:s,title:i}=e,o=Hv(e,Gv),a=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Tt.createElement("svg",Tr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:_r(_r({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Tt.createElement("title",null,i),e.children)};return Ea!==void 0?Tt.createElement(Ea.Consumer,null,n=>t(n)):t(vu)}function eb(e){return Xv({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"square",strokeMiterlimit:"10",strokeWidth:"48",d:"m112 244 144-144 144 144M256 120v292"},child:[]}]})(e)}const Ii=E.createContext({});function Ri(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const wu=typeof window<"u",xu=wu?E.useLayoutEffect:E.useEffect,Lr=E.createContext(null);function Ci(e,t){e.indexOf(t)===-1&&e.push(t)}function Mi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ge=(e,t,n)=>n>t?t:n<e?e:n;let Di=()=>{};const tt={},Tu=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _u(e){return typeof e=="object"&&e!==null}const ku=e=>/^0[^.\s]+$/u.test(e);function Oi(e){let t;return()=>(t===void 0&&(t=e()),t)}const Me=e=>e,tb=(e,t)=>n=>t(e(n)),zn=(...e)=>e.reduce(tb),Pn=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ni{constructor(){this.subscriptions=[]}add(t){return Ci(this.subscriptions,t),()=>Mi(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const et=e=>e*1e3,Ce=e=>e/1e3;function Su(e,t){return t?e*(1e3/t):0}const Eu=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,nb=1e-7,rb=12;function sb(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Eu(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>nb&&++a<rb);return o}function Vn(e,t,n,r){if(e===t&&n===r)return Me;const s=i=>sb(i,0,1,e,n);return i=>i===0||i===1?i:Eu(s(i),t,r)}const Au=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Pu=e=>t=>1-e(1-t),Iu=Vn(.33,1.53,.69,.99),$i=Pu(Iu),Ru=Au($i),Cu=e=>(e*=2)<1?.5*$i(e):.5*(2-Math.pow(2,-10*(e-1))),Li=e=>1-Math.sin(Math.acos(e)),Mu=Pu(Li),Du=Au(Li),ib=Vn(.42,0,1,1),ob=Vn(0,0,.58,1),Ou=Vn(.42,0,.58,1),ab=e=>Array.isArray(e)&&typeof e[0]!="number",Nu=e=>Array.isArray(e)&&typeof e[0]=="number",lb={linear:Me,easeIn:ib,easeInOut:Ou,easeOut:ob,circIn:Li,circInOut:Du,circOut:Mu,backIn:$i,backInOut:Ru,backOut:Iu,anticipate:Cu},cb=e=>typeof e=="string",Pa=e=>{if(Nu(e)){Di(e.length===4);const[t,n,r,s]=e;return Vn(t,n,r,s)}else if(cb(e))return lb[e];return e},er=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ub(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,h=!1,f=!1)=>{const p=f&&s?n:r;return h&&o.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(u))}};return c}const hb=40;function $u(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=er.reduce((m,T)=>(m[T]=ub(i),m),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:f,render:d,postRender:p}=o,g=()=>{const m=tt.useManualTiming?s.timestamp:performance.now();n=!1,tt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,hb),1)),s.timestamp=m,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),f.process(s),d.process(s),p.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},v=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:er.reduce((m,T)=>{const k=o[T];return m[T]=(I,R=!1,A=!1)=>(n||v(),k.schedule(I,R,A)),m},{}),cancel:m=>{for(let T=0;T<er.length;T++)o[er[T]].cancel(m)},state:s,steps:o}}const{schedule:Y,cancel:ut,state:pe,steps:is}=$u(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0);let cr;function fb(){cr=void 0}const xe={now:()=>(cr===void 0&&xe.set(pe.isProcessing||tt.useManualTiming?pe.timestamp:performance.now()),cr),set:e=>{cr=e,queueMicrotask(fb)}},Lu=e=>t=>typeof t=="string"&&t.startsWith(e),zu=Lu("--"),pb=Lu("var(--"),zi=e=>pb(e)?db.test(e.split("/*")[0].trim()):!1,db=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Ia(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const qt={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},In={...qt,transform:e=>Ge(0,1,e)},tr={...qt,default:1},bn=e=>Math.round(e*1e5)/1e5,Vi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mb(e){return e==null}const gb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ji=(e,t)=>n=>!!(typeof n=="string"&&gb.test(n)&&n.startsWith(e)||t&&!mb(n)&&Object.prototype.hasOwnProperty.call(n,t)),Vu=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Vi);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},yb=e=>Ge(0,255,e),os={...qt,transform:e=>Math.round(yb(e))},wt={test:ji("rgb","red"),parse:Vu("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+os.transform(e)+", "+os.transform(t)+", "+os.transform(n)+", "+bn(In.transform(r))+")"};function vb(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zs={test:ji("#"),parse:vb,transform:wt.transform},jn=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),st=jn("deg"),We=jn("%"),P=jn("px"),bb=jn("vh"),wb=jn("vw"),Ra={...We,parse:e=>We.parse(e)/100,transform:e=>We.transform(e*100)},Vt={test:ji("hsl","hue"),parse:Vu("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+We.transform(bn(t))+", "+We.transform(bn(n))+", "+bn(In.transform(r))+")"},ie={test:e=>wt.test(e)||Zs.test(e)||Vt.test(e),parse:e=>wt.test(e)?wt.parse(e):Vt.test(e)?Vt.parse(e):Zs.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wt.transform(e):Vt.transform(e),getAnimatableNone:e=>{const t=ie.parse(e);return t.alpha=0,ie.transform(t)}},xb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Tb(e){return isNaN(e)&&typeof e=="string"&&(e.match(Vi)?.length||0)+(e.match(xb)?.length||0)>0}const ju="number",Zu="color",_b="var",kb="var(",Ca="${}",Sb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rn(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Sb,l=>(ie.test(l)?(r.color.push(i),s.push(Zu),n.push(ie.parse(l))):l.startsWith(kb)?(r.var.push(i),s.push(_b),n.push(l)):(r.number.push(i),s.push(ju),n.push(parseFloat(l))),++i,Ca)).split(Ca);return{values:n,split:a,indexes:r,types:s}}function Fu(e){return Rn(e).values}function Bu(e){const{split:t,types:n}=Rn(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===ju?i+=bn(s[o]):a===Zu?i+=ie.transform(s[o]):i+=s[o]}return i}}const Eb=e=>typeof e=="number"?0:ie.test(e)?ie.getAnimatableNone(e):e;function Ab(e){const t=Fu(e);return Bu(e)(t.map(Eb))}const ht={test:Tb,parse:Fu,createTransformer:Bu,getAnimatableNone:Ab};function as(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Pb({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=as(l,a,e+1/3),i=as(l,a,e),o=as(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function kr(e,t){return n=>n>0?t:e}const Q=(e,t,n)=>e+(t-e)*n,ls=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Ib=[Zs,wt,Vt],Rb=e=>Ib.find(t=>t.test(e));function Ma(e){const t=Rb(e);if(!t)return!1;let n=t.parse(e);return t===Vt&&(n=Pb(n)),n}const Da=(e,t)=>{const n=Ma(e),r=Ma(t);if(!n||!r)return kr(e,t);const s={...n};return i=>(s.red=ls(n.red,r.red,i),s.green=ls(n.green,r.green,i),s.blue=ls(n.blue,r.blue,i),s.alpha=Q(n.alpha,r.alpha,i),wt.transform(s))},Fs=new Set(["none","hidden"]);function Cb(e,t){return Fs.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Mb(e,t){return n=>Q(e,t,n)}function Zi(e){return typeof e=="number"?Mb:typeof e=="string"?zi(e)?kr:ie.test(e)?Da:Nb:Array.isArray(e)?Uu:typeof e=="object"?ie.test(e)?Da:Db:kr}function Uu(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Zi(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Db(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Zi(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Ob(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const Nb=(e,t)=>{const n=ht.createTransformer(t),r=Rn(e),s=Rn(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Fs.has(e)&&!s.values.length||Fs.has(t)&&!r.values.length?Cb(e,t):zn(Uu(Ob(r,s),s.values),n):kr(e,t)};function Wu(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Q(e,t,n):Zi(e)(e,t)}const $b=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Y.update(t,n),stop:()=>ut(t),now:()=>pe.isProcessing?pe.timestamp:xe.now()}},Gu=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sr=2e4;function Fi(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Sr;)t+=n,r=e.next(t);return t>=Sr?1/0:t}function Lb(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Fi(r),Sr);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Ce(s)}}const zb=5;function Hu(e,t,n){const r=Math.max(t-zb,0);return Su(n-e(r),t-r)}const te={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cs=.001;function Vb({duration:e=te.duration,bounce:t=te.bounce,velocity:n=te.velocity,mass:r=te.mass}){let s,i,o=1-t;o=Ge(te.minDamping,te.maxDamping,o),e=Ge(te.minDuration,te.maxDuration,Ce(e)),o<1?(s=c=>{const u=c*o,h=u*e,f=u-n,d=Bs(c,o),p=Math.exp(-h);return cs-f/d*p},i=c=>{const h=c*o*e,f=h*n+n,d=Math.pow(o,2)*Math.pow(c,2)*e,p=Math.exp(-h),g=Bs(Math.pow(c,2),o);return(-s(c)+cs>0?-1:1)*((f-d)*p)/g}):(s=c=>{const u=Math.exp(-c*e),h=(c-n)*e+1;return-cs+u*h},i=c=>{const u=Math.exp(-c*e),h=(n-c)*(e*e);return u*h});const a=5/e,l=Zb(s,i,a);if(e=et(e),isNaN(l))return{stiffness:te.stiffness,damping:te.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const jb=12;function Zb(e,t,n){let r=n;for(let s=1;s<jb;s++)r=r-e(r)/t(r);return r}function Bs(e,t){return e*Math.sqrt(1-t*t)}const Fb=["duration","bounce"],Bb=["stiffness","damping","mass"];function Oa(e,t){return t.some(n=>e[n]!==void 0)}function Ub(e){let t={velocity:te.velocity,stiffness:te.stiffness,damping:te.damping,mass:te.mass,isResolvedFromDuration:!1,...e};if(!Oa(e,Bb)&&Oa(e,Fb))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ge(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:te.mass,stiffness:s,damping:i}}else{const n=Vb(e);t={...t,...n,mass:te.mass},t.isResolvedFromDuration=!0}return t}function Er(e=te.visualDuration,t=te.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:d}=Ub({...n,velocity:-Ce(n.velocity||0)}),p=f||0,g=c/(2*Math.sqrt(l*u)),v=o-i,b=Ce(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?te.restSpeed.granular:te.restSpeed.default),s||(s=w?te.restDelta.granular:te.restDelta.default);let m;if(g<1){const k=Bs(b,g);m=I=>{const R=Math.exp(-g*b*I);return o-R*((p+g*b*v)/k*Math.sin(k*I)+v*Math.cos(k*I))}}else if(g===1)m=k=>o-Math.exp(-b*k)*(v+(p+b*v)*k);else{const k=b*Math.sqrt(g*g-1);m=I=>{const R=Math.exp(-g*b*I),A=Math.min(k*I,300);return o-R*((p+g*b*v)*Math.sinh(A)+k*v*Math.cosh(A))/k}}const T={calculatedDuration:d&&h||null,next:k=>{const I=m(k);if(d)a.done=k>=h;else{let R=k===0?p:0;g<1&&(R=k===0?et(p):Hu(m,k,I));const A=Math.abs(R)<=r,U=Math.abs(o-I)<=s;a.done=A&&U}return a.value=a.done?o:I,a},toString:()=>{const k=Math.min(Fi(T),Sr),I=Gu(R=>T.next(k*R).value,k,30);return k+"ms "+I},toTransition:()=>{}};return T}Er.applyToOptions=e=>{const t=Lb(e,100,Er);return e.ease=t.ease,e.duration=et(t.duration),e.type="keyframes",e};function Us({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},d=A=>a!==void 0&&A<a||l!==void 0&&A>l,p=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let g=n*t;const v=h+g,b=o===void 0?v:o(v);b!==v&&(g=b-h);const w=A=>-g*Math.exp(-A/r),m=A=>b+w(A),T=A=>{const U=w(A),ue=m(A);f.done=Math.abs(U)<=c,f.value=f.done?b:ue};let k,I;const R=A=>{d(f.value)&&(k=A,I=Er({keyframes:[f.value,p(f.value)],velocity:Hu(m,A,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:A=>{let U=!1;return!I&&k===void 0&&(U=!0,T(A),R(A)),k!==void 0&&A>=k?I.next(A-k):(!U&&T(A),f)}}}function Wb(e,t,n){const r=[],s=n||tt.mix||Wu,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Me:t;a=zn(l,a)}r.push(a)}return r}function Gb(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Di(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Wb(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const f=Pn(e[h],e[h+1],u);return a[h](f)};return n?u=>c(Ge(e[0],e[i-1],u)):c}function Hb(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Pn(0,t,r);e.push(Q(n,1,s))}}function qb(e){const t=[0];return Hb(t,e.length-1),t}function Yb(e,t){return e.map(n=>n*t)}function Kb(e,t){return e.map(()=>t||Ou).splice(0,e.length-1)}function wn({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=ab(r)?r.map(Pa):Pa(r),i={done:!1,value:t[0]},o=Yb(n&&n.length===t.length?n:qb(t),e),a=Gb(o,t,{ease:Array.isArray(s)?s:Kb(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const Jb=e=>e!==null;function Bi(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Jb),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Xb={decay:Us,inertia:Us,tween:wn,keyframes:wn,spring:Er};function qu(e){typeof e.type=="string"&&(e.type=Xb[e.type])}class Ui{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Qb=e=>e/100;class Wi extends Ui{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xe.now()&&this.tick(xe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;qu(t);const{type:n=wn,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||wn;l!==wn&&typeof a[0]!="number"&&(this.mixKeyframes=zn(Qb,Wu(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Fi(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:d,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let m=this.currentTime,T=r;if(h){const A=Math.min(this.currentTime,s)/a;let U=Math.floor(A),ue=A%1;!ue&&A>=1&&(ue=1),ue===1&&U--,U=Math.min(U,h+1),!!(U%2)&&(f==="reverse"?(ue=1-ue,d&&(ue-=d/a)):f==="mirror"&&(T=o)),m=Ge(0,1,ue)*a}const k=w?{done:!1,value:u[0]}:T.next(m);i&&(k.value=i(k.value));let{done:I}=k;!w&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return R&&p!==Us&&(k.value=Bi(u,this.options,v,this.speed)),g&&g(k.value),R&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Ce(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ce(t)}get time(){return Ce(this.currentTime)}set time(t){t=et(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ce(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=$b,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function e0(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xt=e=>e*180/Math.PI,Ws=e=>{const t=xt(Math.atan2(e[1],e[0]));return Gs(t)},t0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ws,rotateZ:Ws,skewX:e=>xt(Math.atan(e[1])),skewY:e=>xt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gs=e=>(e=e%360,e<0&&(e+=360),e),Na=Ws,$a=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),La=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),n0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$a,scaleY:La,scale:e=>($a(e)+La(e))/2,rotateX:e=>Gs(xt(Math.atan2(e[6],e[5]))),rotateY:e=>Gs(xt(Math.atan2(-e[2],e[0]))),rotateZ:Na,rotate:Na,skewX:e=>xt(Math.atan(e[4])),skewY:e=>xt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Hs(e){return e.includes("scale")?1:0}function qs(e,t){if(!e||e==="none")return Hs(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=n0,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=t0,s=a}if(!s)return Hs(t);const i=r[t],o=s[1].split(",").map(s0);return typeof i=="function"?i(o):o[i]}const r0=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return qs(n,t)};function s0(e){return parseFloat(e.trim())}const Yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kt=new Set(Yt),za=e=>e===qt||e===P,i0=new Set(["x","y","z"]),o0=Yt.filter(e=>!i0.has(e));function a0(e){const t=[];return o0.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ot={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>qs(t,"x"),y:(e,{transform:t})=>qs(t,"y")};ot.translateX=ot.x;ot.translateY=ot.y;const _t=new Set;let Ys=!1,Ks=!1,Js=!1;function Yu(){if(Ks){const e=Array.from(_t).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=a0(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ks=!1,Ys=!1,_t.forEach(e=>e.complete(Js)),_t.clear()}function Ku(){_t.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ks=!0)})}function l0(){Js=!0,Ku(),Yu(),Js=!1}class Gi{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_t.add(this),Ys||(Ys=!0,Y.read(Ku),Y.resolveKeyframes(Yu))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}e0(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),_t.delete(this)}cancel(){this.state==="scheduled"&&(_t.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c0=e=>e.startsWith("--");function u0(e,t,n){c0(t)?e.style.setProperty(t,n):e.style[t]=n}const h0=Oi(()=>window.ScrollTimeline!==void 0),f0={};function p0(e,t){const n=Oi(e);return()=>f0[t]??n()}const Ju=p0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Va={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mn([0,.65,.55,1]),circOut:mn([.55,0,1,.45]),backIn:mn([.31,.01,.66,-.59]),backOut:mn([.33,1.53,.69,.99])};function Xu(e,t){if(e)return typeof e=="function"?Ju()?Gu(e,t):"ease-out":Nu(e)?mn(e):Array.isArray(e)?e.map(n=>Xu(n,t)||Va.easeOut):Va[e]}function d0(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=Xu(a,s);Array.isArray(h)&&(u.easing=h);const f={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(u,f)}function Qu(e){return typeof e=="function"&&"applyToOptions"in e}function m0({type:e,...t}){return Qu(e)&&Ju()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class g0 extends Ui{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Di(typeof t.type!="string");const c=m0(t);this.animation=d0(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Bi(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):u0(n,r,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ce(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ce(t)}get time(){return Ce(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=et(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&h0()?(this.animation.timeline=t,Me):n(this)}}const eh={anticipate:Cu,backInOut:Ru,circInOut:Du};function y0(e){return e in eh}function v0(e){typeof e.ease=="string"&&y0(e.ease)&&(e.ease=eh[e.ease])}const us=10;class b0 extends g0{constructor(t){v0(t),qu(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Wi({...o,autoplay:!1}),l=Math.max(us,xe.now()-this.startTime),c=Ge(0,us,l-us);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const ja=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ht.test(e)||e==="0")&&!e.startsWith("url("));function w0(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function x0(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=ja(s,t),a=ja(i,t);return!o||!a?!1:w0(e)||(n==="spring"||Qu(n))&&r}function Xs(e){e.duration=0,e.type="keyframes"}const T0=new Set(["opacity","clipPath","filter","transform"]),_0=Oi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k0(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return _0()&&n&&T0.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const S0=40;class E0 extends Ui{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xe.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...h},d=u?.KeyframeResolver||Gi;this.keyframeResolver=new d(a,(p,g,v)=>this.onKeyframesResolved(p,g,f,!v),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=xe.now(),x0(t,i,o,a)||((tt.instantAnimations||!l)&&u?.(Bi(t,r,n)),t[0]=t[t.length-1],Xs(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>S0?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},d=!c&&k0(f)?new b0({...f,element:f.motionValue.owner.current}):new Wi(f);d.finished.then(()=>this.notifyFinished()).catch(Me),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),l0()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const A0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P0(e){const t=A0.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function th(e,t,n=1){const[r,s]=P0(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Tu(o)?parseFloat(o):o}return zi(s)?th(s,t,n+1):s}function Hi(e,t){return e?.[t]??e?.default??e}const I0={type:"spring",stiffness:500,damping:25,restSpeed:10},R0=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),C0={type:"keyframes",duration:.8},M0={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D0=(e,{keyframes:t})=>t.length>2?C0:Kt.has(e)?e.startsWith("scale")?R0(t[1]):I0:M0;function O0({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const N0=e=>e!==null;function $0(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(N0),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}function nh(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const qi=(e,t,n,r={},s,i)=>o=>{const a=Hi(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-et(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};O0(a)||Object.assign(u,D0(e,u)),u.duration&&(u.duration=et(u.duration)),u.repeatDelay&&(u.repeatDelay=et(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Xs(u),u.delay===0&&(h=!0)),(tt.instantAnimations||tt.skipAnimations)&&(h=!0,Xs(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!i&&t.get()!==void 0){const f=$0(u.keyframes,a);if(f!==void 0){Y.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new Wi(u):new E0(u)},rh=new Set(["width","height","top","left","right","bottom",...Yt]),Za=30,L0=e=>!isNaN(parseFloat(e));class z0{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=xe.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=xe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=L0(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ni);const r=this.events[t].add(n);return t==="change"?()=>{r(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Za)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Za);return Su(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gt(e,t){return new z0(e,t)}function Fa(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Yi(e,t,n,r){if(typeof t=="function"){const[s,i]=Fa(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Fa(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Bt(e,t,n){const r=e.getProps();return Yi(r,t,n!==void 0?n:r.custom,e)}const Qs=e=>Array.isArray(e);function V0(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gt(n))}function j0(e){return Qs(e)?e[e.length-1]||0:e}function Z0(e,t){const n=Bt(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=j0(i[o]);V0(e,o,a)}}const me=e=>!!(e&&e.getVelocity);function F0(e){return!!(me(e)&&e.add)}function ei(e,t){const n=e.getValue("willChange");if(F0(n))return n.add(t);if(!n&&tt.WillChange){const r=new tt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Ki(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const B0="framerAppearId",sh="data-"+Ki(B0);function ih(e){return e.props[sh]}function U0({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function oh(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const h=e.getValue(u,e.latestValues[u]??null),f=a[u];if(f===void 0||c&&U0(c,u))continue;const d={delay:n,...Hi(i||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===p&&!d.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=ih(e);if(b){const w=window.MotionHandoffAnimation(b,u,Y);w!==null&&(d.startTime=w,g=!0)}}ei(e,u),h.start(qi(u,h,f,e.shouldReduceMotion&&rh.has(u)?{type:!1}:d,e,g));const v=h.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{Y.update(()=>{o&&Z0(e,o)})}),l}function ti(e,t,n={}){const r=Bt(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(oh(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=s;return W0(e,t,l,c,u,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function W0(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(ti(l,t,{...o,delay:n+(typeof r=="function"?0:r)+nh(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function G0(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>ti(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=ti(e,t,n);else{const s=typeof t=="function"?Bt(e,t,n.custom):t;r=Promise.all(oh(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const H0={test:e=>e==="auto",parse:e=>e},ah=e=>t=>t.test(e),lh=[qt,P,We,st,wb,bb,H0],Ba=e=>lh.find(ah(e));function q0(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ku(e):!0}const Y0=new Set(["brightness","contrast","saturate","opacity"]);function K0(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Vi)||[];if(!r)return e;const s=n.replace(r,"");let i=Y0.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const J0=/\b([a-z-]*)\(.*?\)/gu,ni={...ht,getAnimatableNone:e=>{const t=e.match(J0);return t?t.map(K0).join(" "):e}},Ua={...qt,transform:Math.round},X0={rotate:st,rotateX:st,rotateY:st,rotateZ:st,scale:tr,scaleX:tr,scaleY:tr,scaleZ:tr,skew:st,skewX:st,skewY:st,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:In,originX:Ra,originY:Ra,originZ:P},Ji={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,top:P,right:P,bottom:P,left:P,inset:P,insetBlock:P,insetBlockStart:P,insetBlockEnd:P,insetInline:P,insetInlineStart:P,insetInlineEnd:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,paddingBlock:P,paddingBlockStart:P,paddingBlockEnd:P,paddingInline:P,paddingInlineStart:P,paddingInlineEnd:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,marginBlock:P,marginBlockStart:P,marginBlockEnd:P,marginInline:P,marginInlineStart:P,marginInlineEnd:P,backgroundPositionX:P,backgroundPositionY:P,...X0,zIndex:Ua,fillOpacity:In,strokeOpacity:In,numOctaves:Ua},Q0={...Ji,color:ie,backgroundColor:ie,outlineColor:ie,fill:ie,stroke:ie,borderColor:ie,borderTopColor:ie,borderRightColor:ie,borderBottomColor:ie,borderLeftColor:ie,filter:ni,WebkitFilter:ni},ch=e=>Q0[e];function uh(e,t){let n=ch(e);return n!==ni&&(n=ht),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ew=new Set(["auto","none","0"]);function tw(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!ew.has(i)&&Rn(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=uh(n,s)}class nw extends Gi{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let h=t[u];if(typeof h=="string"&&(h=h.trim(),zi(h))){const f=th(h,n.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!rh.has(r)||t.length!==2)return;const[s,i]=t,o=Ba(s),a=Ba(i),l=Ia(s),c=Ia(i);if(l!==c&&ot[r]){this.needsMeasurement=!0;return}if(o!==a)if(za(o)&&za(a))for(let u=0;u<t.length;u++){const h=t[u];typeof h=="string"&&(t[u]=parseFloat(h))}else ot[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||q0(t[s]))&&r.push(s);r.length&&tw(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ot[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ot[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function rw(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const hh=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fh(e){return _u(e)&&"offsetHeight"in e}const{schedule:Xi}=$u(queueMicrotask,!1),Le={x:!1,y:!1};function ph(){return Le.x||Le.y}function sw(e){return e==="x"||e==="y"?Le[e]?null:(Le[e]=!0,()=>{Le[e]=!1}):Le.x||Le.y?null:(Le.x=Le.y=!0,()=>{Le.x=Le.y=!1})}function dh(e,t){const n=rw(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wa(e){return!(e.pointerType==="touch"||ph())}function iw(e,t,n={}){const[r,s,i]=dh(e,n),o=a=>{if(!Wa(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=h=>{Wa(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const mh=(e,t)=>t?e===t?!0:mh(e,t.parentElement):!1,Qi=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ow=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gh(e){return ow.has(e.tagName)||e.isContentEditable===!0}const ur=new WeakSet;function Ga(e){return t=>{t.key==="Enter"&&e(t)}}function hs(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aw=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ga(()=>{if(ur.has(n))return;hs(n,"down");const s=Ga(()=>{hs(n,"up")}),i=()=>hs(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ha(e){return Qi(e)&&!ph()}function lw(e,t,n={}){const[r,s,i]=dh(e,n),o=a=>{const l=a.currentTarget;if(!Ha(a))return;ur.add(l);const c=t(l,a),u=(d,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),ur.has(l)&&ur.delete(l),Ha(d)&&typeof c=="function"&&c(d,{success:p})},h=d=>{u(d,l===window||l===document||n.useGlobalTarget||mh(l,d.target))},f=d=>{u(d,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),fh(a)&&(a.addEventListener("focus",c=>aw(c,s)),!gh(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function yh(e){return _u(e)&&"ownerSVGElement"in e}function cw(e){return yh(e)&&e.tagName==="svg"}const uw=[...lh,ie,ht],hw=e=>uw.find(ah(e)),qa=()=>({translate:0,scale:1,origin:0,originPoint:0}),jt=()=>({x:qa(),y:qa()}),Ya=()=>({min:0,max:0}),ce=()=>({x:Ya(),y:Ya()}),ri={current:null},vh={current:!1},fw=typeof window<"u";function pw(){if(vh.current=!0,!!fw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ri.current=e.matches;e.addEventListener("change",t),t()}else ri.current=!1}const dw=new WeakMap;function zr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cn(e){return typeof e=="string"||Array.isArray(e)}const eo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],to=["initial",...eo];function Vr(e){return zr(e.animate)||to.some(t=>Cn(e[t]))}function bh(e){return!!(Vr(e)||e.variants)}function mw(e,t,n){for(const r in t){const s=t[r],i=n[r];if(me(s))e.addValue(r,s);else if(me(i))e.addValue(r,Gt(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Gt(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ka=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ar={};function wh(e){Ar=e}function gw(){return Ar}class yw{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=xe.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Y.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Vr(n),this.isVariantNode=bh(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const d=h[f];l[f]!==void 0&&me(d)&&d.set(l[f])}}mount(t){this.current=t,dw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(vh.current||pw(),this.shouldReduceMotion=ri.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ut(this.notifyUpdate),ut(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Kt.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Y.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ar){const n=Ar[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ce()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ka.length;r++){const s=Ka[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=mw(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Gt(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Tu(r)||ku(r))?r=parseFloat(r):!hw(r)&&ht.test(n)&&(r=uh(t,n)),this.setBaseTarget(t,me(r)?r.get():r)),me(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=Yi(this.props,n,this.presenceContext?.custom);i&&(r=i[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!me(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ni),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Xi.render(this.render)}}class ft{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xh extends yw{constructor(){super(...arguments),this.KeyframeResolver=nw}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;me(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Th({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vw({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bw(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fs(e){return e===void 0||e===1}function si({scale:e,scaleX:t,scaleY:n}){return!fs(e)||!fs(t)||!fs(n)}function vt(e){return si(e)||_h(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _h(e){return Ja(e.x)||Ja(e.y)}function Ja(e){return e&&e!=="0%"}function Pr(e,t,n){const r=e-n,s=t*r;return n+s}function Xa(e,t,n,r,s){return s!==void 0&&(e=Pr(e,s,r)),Pr(e,n,r)+t}function ii(e,t=0,n=1,r,s){e.min=Xa(e.min,t,n,r,s),e.max=Xa(e.max,t,n,r,s)}function kh(e,{x:t,y:n}){ii(e.x,t.translate,t.scale,t.originPoint),ii(e.y,n.translate,n.scale,n.originPoint)}const Qa=.999999999999,el=1.0000000000001;function ww(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ft(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,kh(e,o)),r&&vt(i.latestValues)&&Ft(e,i.latestValues))}t.x<el&&t.x>Qa&&(t.x=1),t.y<el&&t.y>Qa&&(t.y=1)}function Zt(e,t){e.min=e.min+t,e.max=e.max+t}function tl(e,t,n,r,s=.5){const i=Q(e.min,e.max,s);ii(e,t,n,i,r)}function Ft(e,t){tl(e.x,t.x,t.scaleX,t.scale,t.originX),tl(e.y,t.y,t.scaleY,t.scale,t.originY)}function Sh(e,t){return Th(bw(e.getBoundingClientRect(),t))}function xw(e,t,n){const r=Sh(e,n),{scroll:s}=t;return s&&(Zt(r.x,s.offset.x),Zt(r.y,s.offset.y)),r}const Tw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_w=Yt.length;function kw(e,t,n){let r="",s=!0;for(let i=0;i<_w;i++){const o=Yt[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=hh(a,Ji[o]);if(!l){s=!1;const u=Tw[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function no(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Kt.has(l)){o=!0;continue}else if(zu(l)){s[l]=c;continue}else{const u=hh(c,Ji[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=kw(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}function Eh(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s?.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function nl(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(P.test(e))e=parseFloat(e);else return e;const n=nl(e,t.target.x),r=nl(e,t.target.y);return`${n}% ${r}%`}},Sw={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ht.parse(e);if(s.length>5)return r;const i=ht.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=Q(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},oi={borderRadius:{...sn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sn,borderTopRightRadius:sn,borderBottomLeftRadius:sn,borderBottomRightRadius:sn,boxShadow:Sw};function Ah(e,{layout:t,layoutId:n}){return Kt.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!oi[e]||e==="opacity")}function ro(e,t,n){const r=e.style,s=t?.style,i={};if(!r)return i;for(const o in r)(me(r[o])||s&&me(s[o])||Ah(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}function Ew(e){return window.getComputedStyle(e)}class Aw extends xh{constructor(){super(...arguments),this.type="html",this.renderInstance=Eh}readValueFromInstance(t,n){if(Kt.has(n))return this.projection?.isProjecting?Hs(n):r0(t,n);{const r=Ew(t),s=(zu(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Sh(t,n)}build(t,n,r){no(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ro(t,n,r)}}const Pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iw={offset:"strokeDashoffset",array:"strokeDasharray"};function Rw(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Pw:Iw;e[i.offset]=P.transform(-r);const o=P.transform(t),a=P.transform(n);e[i.array]=`${o} ${a}`}const Cw=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ph(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(no(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:f}=e;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox);for(const d of Cw)h[d]!==void 0&&(f[d]=h[d],delete h[d]);t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Rw(h,s,i,o,!1)}const Ih=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Rh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Mw(e,t,n,r){Eh(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Ih.has(s)?s:Ki(s),t.attrs[s])}function Ch(e,t,n){const r=ro(e,t,n);for(const s in e)if(me(e[s])||me(t[s])){const i=Yt.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class Dw extends xh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ce}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Kt.has(n)){const r=ch(n);return r&&r.default||0}return n=Ih.has(n)?n:Ki(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Ch(t,n,r)}build(t,n,r){Ph(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Mw(t,n,r,s)}mount(t){this.isSVGTag=Rh(t.tagName),super.mount(t)}}const Ow=to.length;function Mh(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Mh(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Ow;n++){const r=to[n],s=e.props[r];(Cn(s)||s===!1)&&(t[r]=s)}return t}function Dh(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Nw=[...eo].reverse(),$w=eo.length;function Lw(e){return t=>Promise.all(t.map(({animation:n,options:r})=>G0(e,n,r)))}function zw(e){let t=Lw(e),n=rl(),r=!0;const s=l=>(c,u)=>{const h=Bt(e,u,l==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:d,...p}=h;c={...c,...p,...d}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=Mh(e.parent)||{},h=[],f=new Set;let d={},p=1/0;for(let v=0;v<$w;v++){const b=Nw[v],w=n[b],m=c[b]!==void 0?c[b]:u[b],T=Cn(m),k=b===l?w.isActive:null;k===!1&&(p=v);let I=m===u[b]&&m!==c[b]&&T;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...d},!w.isActive&&k===null||!m&&!w.prevProp||zr(m)||typeof m=="boolean")continue;const R=Vw(w.prevProp,m);let A=R||b===l&&w.isActive&&!I&&T||v>p&&T,U=!1;const ue=Array.isArray(m)?m:[m];let G=ue.reduce(s(b),{});k===!1&&(G={});const{prevResolvedValues:nt={}}=w,Jt={...nt,...G},Pt=oe=>{A=!0,f.has(oe)&&(U=!0,f.delete(oe)),w.needsAnimating[oe]=!0;const ge=e.getValue(oe);ge&&(ge.liveStyle=!1)};for(const oe in Jt){const ge=G[oe],He=nt[oe];if(d.hasOwnProperty(oe))continue;let qe=!1;Qs(ge)&&Qs(He)?qe=!Dh(ge,He):qe=ge!==He,qe?ge!=null?Pt(oe):f.add(oe):ge!==void 0&&f.has(oe)?Pt(oe):w.protectedKeys[oe]=!0}w.prevProp=m,w.prevResolvedValues=G,w.isActive&&(d={...d,...G}),r&&e.blockInitialAnimation&&(A=!1);const Fn=I&&R;A&&(!Fn||U)&&h.push(...ue.map(oe=>{const ge={type:b};if(typeof oe=="string"&&r&&!Fn&&e.manuallyAnimateOnMount&&e.parent){const{parent:He}=e,qe=Bt(He,oe);if(He.enteringChildren&&qe){const{delayChildren:re}=qe.transition||{};ge.delay=nh(He.enteringChildren,e,re)}}return{animation:oe,options:ge}}))}if(f.size){const v={};if(typeof c.initial!="boolean"){const b=Bt(e,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(v.transition=b.transition)}f.forEach(b=>{const w=e.getBaseTarget(b),m=e.getValue(b);m&&(m.liveStyle=!0),v[b]=w??null}),h.push({animation:v})}let g=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(h):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=rl()}}}function Vw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dh(t,e):!1}function gt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rl(){return{animate:gt(!0),whileInView:gt(),whileHover:gt(),whileTap:gt(),whileDrag:gt(),whileFocus:gt(),exit:gt()}}const Oh=1e-4,jw=1-Oh,Zw=1+Oh,Nh=.01,Fw=0-Nh,Bw=0+Nh;function Te(e){return e.max-e.min}function Uw(e,t,n){return Math.abs(e-t)<=n}function sl(e,t,n,r=.5){e.origin=r,e.originPoint=Q(t.min,t.max,e.origin),e.scale=Te(n)/Te(t),e.translate=Q(n.min,n.max,e.origin)-e.originPoint,(e.scale>=jw&&e.scale<=Zw||isNaN(e.scale))&&(e.scale=1),(e.translate>=Fw&&e.translate<=Bw||isNaN(e.translate))&&(e.translate=0)}function xn(e,t,n,r){sl(e.x,t.x,n.x,r?r.originX:void 0),sl(e.y,t.y,n.y,r?r.originY:void 0)}function il(e,t,n){e.min=n.min+t.min,e.max=e.min+Te(t)}function Ww(e,t,n){il(e.x,t.x,n.x),il(e.y,t.y,n.y)}function ol(e,t,n){e.min=t.min-n.min,e.max=e.min+Te(t)}function Ir(e,t,n){ol(e.x,t.x,n.x),ol(e.y,t.y,n.y)}function al(e,t,n,r,s){return e-=t,e=Pr(e,1/n,r),s!==void 0&&(e=Pr(e,1/s,r)),e}function Gw(e,t=0,n=1,r=.5,s,i=e,o=e){if(We.test(t)&&(t=parseFloat(t),t=Q(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Q(i.min,i.max,r);e===i&&(a-=t),e.min=al(e.min,t,n,a,s),e.max=al(e.max,t,n,a,s)}function ll(e,t,[n,r,s],i,o){Gw(e,t[n],t[r],t[s],t.scale,i,o)}const Hw=["x","scaleX","originX"],qw=["y","scaleY","originY"];function cl(e,t,n,r){ll(e.x,t,Hw,n?n.x:void 0,r?r.x:void 0),ll(e.y,t,qw,n?n.y:void 0,r?r.y:void 0)}function ul(e,t){e.min=t.min,e.max=t.max}function $e(e,t){ul(e.x,t.x),ul(e.y,t.y)}function hl(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fl(e){return e.translate===0&&e.scale===1}function $h(e){return fl(e.x)&&fl(e.y)}function pl(e,t){return e.min===t.min&&e.max===t.max}function Yw(e,t){return pl(e.x,t.x)&&pl(e.y,t.y)}function dl(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Lh(e,t){return dl(e.x,t.x)&&dl(e.y,t.y)}function ml(e){return Te(e.x)/Te(e.y)}function gl(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Re(e){return[e("x"),e("y")]}function Kw(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=n?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:d,skewY:p}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),d&&(r+=`skewX(${d}deg) `),p&&(r+=`skewY(${p}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zh=["TopLeft","TopRight","BottomLeft","BottomRight"],Jw=zh.length,yl=e=>typeof e=="string"?parseFloat(e):e,vl=e=>typeof e=="number"||P.test(e);function Xw(e,t,n,r,s,i){s?(e.opacity=Q(0,n.opacity??1,Qw(r)),e.opacityExit=Q(t.opacity??1,0,ex(r))):i&&(e.opacity=Q(t.opacity??1,n.opacity??1,r));for(let o=0;o<Jw;o++){const a=`border${zh[o]}Radius`;let l=bl(t,a),c=bl(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vl(l)===vl(c)?(e[a]=Math.max(Q(yl(l),yl(c),r),0),(We.test(c)||We.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Q(t.rotate||0,n.rotate||0,r))}function bl(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qw=Vh(0,.5,Mu),ex=Vh(.5,.95,Me);function Vh(e,t,n){return r=>r<e?0:r>t?1:n(Pn(e,t,r))}function tx(e,t){const n=xe.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ut(r),e(i-t))};return Y.setup(r,!0),()=>ut(r)}function Mn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function hr(e){return me(e)?e.get():e}function nx(e,t,n){const r=me(e)?e:Gt(e);return r.start(qi("",r,t,n)),r.animation}const rx=(e,t)=>e.depth-t.depth;class sx{constructor(){this.children=[],this.isDirty=!1}add(t){Ci(this.children,t),this.isDirty=!0}remove(t){Mi(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rx),this.isDirty=!1,this.children.forEach(t)}}class ix{constructor(){this.members=[]}add(t){Ci(this.members,t),t.scheduleRender()}remove(t){if(Mi(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const fr={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ps=["","X","Y","Z"],ox=1e3;let ax=0;function ds(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function jh(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ih(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Y,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&jh(r)}function Zh({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t?.()){this.id=ax++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ux),this.nodes.forEach(dx),this.nodes.forEach(mx),this.nodes.forEach(hx)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sx)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ni),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=yh(o)&&!cw(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Y.read(()=>{h=window.innerWidth}),e(o,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,u&&u(),u=tx(f,250),fr.hasAnimatedSinceResize&&(fr.hasAnimatedSinceResize=!1,this.nodes.forEach(Tl)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||wx,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),b=!this.targetLayout||!Lh(this.targetLayout,d),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const m={...Hi(p,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(m.delay=0,m.type=!1),this.startAnimation(m),this.setAnimationOrigin(u,w)}else h||Tl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ut(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gx),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jh(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wl);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xl);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(px),this.nodes.forEach(lx),this.nodes.forEach(cx)):this.nodes.forEach(xl),this.clearAllSnapshots();const a=xe.now();pe.delta=Ge(0,1e3/60,a-pe.timestamp),pe.timestamp=a,pe.isProcessing=!0,is.update.process(pe),is.preRender.process(pe),is.render.process(pe),pe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fx),this.sharedNodes.forEach(yx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Te(this.snapshot.measuredBox.x)&&!Te(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ce(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!$h(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||vt(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xx(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ce();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Tx))){const{scroll:c}=this.root;c&&(Zt(a.x,c.offset.x),Zt(a.y,c.offset.y))}return a}removeElementScroll(o){const a=ce();if($e(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;c!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&$e(a,o),Zt(a.x,u.offset.x),Zt(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const l=ce();$e(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ft(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vt(u.latestValues)&&Ft(l,u.latestValues)}return vt(this.latestValues)&&Ft(l,this.latestValues),l}removeTransform(o){const a=ce();$e(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vt(c.latestValues))continue;si(c.latestValues)&&c.updateSnapshot();const u=ce(),h=c.measurePageBox();$e(u,h),cl(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return vt(this.latestValues)&&cl(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!this.layout||!(u||h))return;this.resolvedRelativeTargetAt=pe.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ce(),this.targetWithTransforms=ce()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ww(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$e(this.target,this.layout.layoutBox),kh(this.target,this.targetDelta)):$e(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||si(this.parent.latestValues)||_h(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ce(),this.relativeTargetOrigin=ce(),Ir(this.relativeTargetOrigin,a,l),$e(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pe.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;$e(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;ww(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ce());const{target:d}=o;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hl(this.prevProjectionDelta.x,this.projectionDelta.x),hl(this.prevProjectionDelta.y,this.projectionDelta.y)),xn(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!gl(this.projectionDelta.x,this.prevProjectionDelta.x)||!gl(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jt(),this.projectionDelta=jt(),this.projectionDeltaWithTransform=jt()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=jt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ce(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=d!==p,v=this.getStack(),b=!v||v.members.length<=1,w=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(bx));this.animationProgress=0;let m;this.mixTargetDelta=T=>{const k=T/1e3;_l(h.x,o.x,k),_l(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ir(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vx(this.relativeTarget,this.relativeTargetOrigin,f,k),m&&Yw(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=ce()),$e(m,this.relativeTarget)),g&&(this.animationValues=u,Xw(u,c,this.latestValues,k,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ut(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{fr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gt(0)),this.currentAnimation=nx(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ox),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Fh(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ce();const h=Te(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Te(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}$e(a,l),Ft(a,u),xn(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ix),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ds("z",o,c,this.animationValues);for(let u=0;u<ps.length;u++)ds(`rotate${ps[u]}`,o,c,this.animationValues),ds(`skew${ps[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hr(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hr(a?.pointerEvents)||""),this.hasProjected&&!vt(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=Kw(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:f,y:d}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in oi){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:b}=oi[p],w=h==="none"?u[p]:g(u[p],c);if(v){const m=v.length;for(let T=0;T<m;T++)o[v[T]]=w}else b?this.options.visualElement.renderState.vars[p]=w:o[p]=w}this.options.layoutId&&(o.pointerEvents=c===this?hr(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(wl),this.root.sharedNodes.clear()}}}function lx(e){e.updateLayout()}function cx(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Re(u=>{const h=i?t.measuredBox[u]:t.layoutBox[u],f=Te(h);h.min=n[u].min,h.max=h.min+f}):Fh(s,t.layoutBox,n)&&Re(u=>{const h=i?t.measuredBox[u]:t.layoutBox[u],f=Te(n[u]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+f)});const o=jt();xn(o,n,t.layoutBox);const a=jt();i?xn(a,e.applyTransform(r,!0),t.measuredBox):xn(a,n,t.layoutBox);const l=!$h(o);let c=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const d=ce();Ir(d,t.layoutBox,h.layoutBox);const p=ce();Ir(p,n,f.layoutBox),Lh(d,p)||(c=!0),u.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=d,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ux(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hx(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fx(e){e.clearSnapshot()}function wl(e){e.clearMeasurements()}function xl(e){e.isLayoutDirty=!1}function px(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Tl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dx(e){e.resolveTargetDelta()}function mx(e){e.calcProjection()}function gx(e){e.resetSkewAndRotation()}function yx(e){e.removeLeadSnapshot()}function _l(e,t,n){e.translate=Q(t.translate,0,n),e.scale=Q(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kl(e,t,n,r){e.min=Q(t.min,n.min,r),e.max=Q(t.max,n.max,r)}function vx(e,t,n,r){kl(e.x,t.x,n.x,r),kl(e.y,t.y,n.y,r)}function bx(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wx={duration:.45,ease:[.4,0,.1,1]},Sl=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),El=Sl("applewebkit/")&&!Sl("chrome/")?Math.round:Me;function Al(e){e.min=El(e.min),e.max=El(e.max)}function xx(e){Al(e.x),Al(e.y)}function Fh(e,t,n){return e==="position"||e==="preserve-aspect"&&!Uw(ml(t),ml(n),.2)}function Tx(e){return e!==e.root&&e.scroll?.wasRoot}const _x=Zh({attachResizeListener:(e,t)=>Mn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ms={current:void 0},Bh=Zh({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ms.current){const e=new _x({});e.mount(window),e.setOptions({layoutScroll:!0}),ms.current=e}return ms.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),so=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Pl(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kx(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Pl(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Pl(e[s],null)}}}}function Sx(...e){return E.useCallback(kx(...e),e)}class Ex extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=fh(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ax({children:e,isPresent:t,anchorX:n,root:r}){const s=E.useId(),i=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(so),l=e.props?.ref??e?.ref,c=Sx(i,l);return E.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:d,right:p}=o.current;if(t||!i.current||!u||!h)return;const g=n==="left"?`left: ${d}`:`right: ${p}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");a&&(v.nonce=a);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),z.jsx(Ex,{isPresent:t,childRef:i,sizeRef:o,children:E.cloneElement(e,{ref:c})})}const Px=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=Ri(Ix),u=E.useId();let h=!0,f=E.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:d=>{c.set(d,!0);for(const p of c.values())if(!p)return;r&&r()},register:d=>(c.set(d,!1),()=>c.delete(d))}),[n,c,r]);return i&&h&&(f={...f}),E.useMemo(()=>{c.forEach((d,p)=>c.set(p,!1))},[n]),E.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=z.jsx(Ax,{isPresent:n,anchorX:a,root:l,children:e})),z.jsx(Lr.Provider,{value:f,children:e})};function Ix(){return new Map}function Uh(e=!0){const t=E.useContext(Lr);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=E.useId();E.useEffect(()=>{if(e)return s(i)},[e]);const o=E.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const nr=e=>e.key||"";function Il(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const Rl=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=Uh(o),h=E.useMemo(()=>Il(e),[e]),f=o&&!c?[]:h.map(nr),d=E.useRef(!0),p=E.useRef(h),g=Ri(()=>new Map),v=E.useRef(new Set),[b,w]=E.useState(h),[m,T]=E.useState(h);xu(()=>{d.current=!1,p.current=h;for(let R=0;R<m.length;R++){const A=nr(m[R]);f.includes(A)?(g.delete(A),v.current.delete(A)):g.get(A)!==!0&&g.set(A,!1)}},[m,f.length,f.join("-")]);const k=[];if(h!==b){let R=[...h];for(let A=0;A<m.length;A++){const U=m[A],ue=nr(U);f.includes(ue)||(R.splice(A,0,U),k.push(U))}return i==="wait"&&k.length&&(R=k),T(Il(R)),w(h),null}const{forceRender:I}=E.useContext(Ii);return z.jsx(z.Fragment,{children:m.map(R=>{const A=nr(R),U=o&&!c?!1:h===m||f.includes(A),ue=()=>{if(v.current.has(A))return;if(v.current.add(A),g.has(A))g.set(A,!0);else return;let G=!0;g.forEach(nt=>{nt||(G=!1)}),G&&(I?.(),T(p.current),o&&u?.(),r&&r())};return z.jsx(Px,{isPresent:U,initial:!d.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:U?void 0:ue,anchorX:a,children:R},A)})})},Wh=E.createContext({strict:!1}),Cl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ml=!1;function Rx(){if(Ml)return;const e={};for(const t in Cl)e[t]={isEnabled:n=>Cl[t].some(r=>!!n[r])};wh(e),Ml=!0}function Gh(){return Rx(),gw()}function Cx(e){const t=Gh();for(const n in e)t[n]={...t[n],...e[n]};wh(t)}const Mx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Mx.has(e)}let Hh=e=>!Rr(e);function Dx(e){typeof e=="function"&&(Hh=t=>t.startsWith("on")?!Rr(t):e(t))}try{Dx(require("@emotion/is-prop-valid").default)}catch{}function Ox(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Hh(s)||n===!0&&Rr(s)||!t&&!Rr(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const jr=E.createContext({});function Nx(e,t){if(Vr(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Cn(n)?n:void 0,animate:Cn(r)?r:void 0}}return e.inherit!==!1?t:{}}function $x(e){const{initial:t,animate:n}=Nx(e,E.useContext(jr));return E.useMemo(()=>({initial:t,animate:n}),[Dl(t),Dl(n)])}function Dl(e){return Array.isArray(e)?e.join(" "):e}const io=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qh(e,t,n){for(const r in t)!me(t[r])&&!Ah(r,n)&&(e[r]=t[r])}function Lx({transformTemplate:e},t){return E.useMemo(()=>{const n=io();return no(n,t,e),Object.assign({},n.vars,n.style)},[t])}function zx(e,t){const n=e.style||{},r={};return qh(r,n,e),Object.assign(r,Lx(e,t)),r}function Vx(e,t){const n={},r=zx(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Yh=()=>({...io(),attrs:{}});function jx(e,t,n,r){const s=E.useMemo(()=>{const i=Yh();return Ph(i,t,Rh(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qh(i,e.style,e),s.style={...i,...s.style}}return s}const Zx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oo(e){return typeof e!="string"||e.includes("-")?!1:!!(Zx.indexOf(e)>-1||/[A-Z]/u.test(e))}function Fx(e,t,n,{latestValues:r},s,i=!1,o){const l=(o??oo(e)?jx:Vx)(t,r,s,e),c=Ox(t,typeof e=="string",i),u=e!==E.Fragment?{...c,...l,ref:n}:{},{children:h}=t,f=E.useMemo(()=>me(h)?h.get():h,[h]);return E.createElement(e,{...u,children:f})}function Bx({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:Ux(n,r,s,e),renderState:t()}}function Ux(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=hr(i[f]);let{initial:o,animate:a}=e;const l=Vr(e),c=bh(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!zr(h)){const f=Array.isArray(h)?h:[h];for(let d=0;d<f.length;d++){const p=Yi(e,f[d]);if(p){const{transitionEnd:g,transition:v,...b}=p;for(const w in b){let m=b[w];if(Array.isArray(m)){const T=u?m.length-1:0;m=m[T]}m!==null&&(s[w]=m)}for(const w in g)s[w]=g[w]}}}return s}const Kh=e=>(t,n)=>{const r=E.useContext(jr),s=E.useContext(Lr),i=()=>Bx(e,t,r,s);return n?i():Ri(i)},Wx=Kh({scrapeMotionValuesFromProps:ro,createRenderState:io}),Gx=Kh({scrapeMotionValuesFromProps:Ch,createRenderState:Yh}),Hx=Symbol.for("motionComponentSymbol");function qx(e,t,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const s=E.useRef(null);return E.useCallback(i=>{i&&e.onMount?.(i),t&&(i?t.mount(i):t.unmount());const o=r.current;if(typeof o=="function")if(i){const a=o(i);typeof a=="function"&&(s.current=a)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[t])}const Jh=E.createContext({});function gn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yx(e,t,n,r,s,i){const{visualElement:o}=E.useContext(jr),a=E.useContext(Wh),l=E.useContext(Lr),c=E.useContext(so).reducedMotion,u=E.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}));const h=u.current,f=E.useContext(Jh);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Kx(u.current,n,s,f);const d=E.useRef(!1);E.useInsertionEffect(()=>{h&&d.current&&h.update(n,l)});const p=n[sh],g=E.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return xu(()=>{h&&(d.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),E.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),g.current=!1),h.enteringChildren=void 0)}),h}function Kx(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Xh(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&gn(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Xh(e){if(e)return e.options.allowProjection!==!1?e.projection:Xh(e.parent)}function gs(e,{forwardMotionProps:t=!1,type:n}={},r,s){r&&Cx(r);const i=n?n==="svg":oo(e),o=i?Gx:Wx;function a(c,u){let h;const f={...E.useContext(so),...c,layoutId:Jx(c)},{isStatic:d}=f,p=$x(c),g=o(c,d);if(!d&&wu){Xx();const v=Qx(f);h=v.MeasureLayout,p.visualElement=Yx(e,g,f,s,v.ProjectionNode,i)}return z.jsxs(jr.Provider,{value:p,children:[h&&p.visualElement?z.jsx(h,{visualElement:p.visualElement,...f}):null,Fx(e,c,qx(g,p.visualElement,u),g,d,t,i)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=E.forwardRef(a);return l[Hx]=e,l}function Jx({layoutId:e}){const t=E.useContext(Ii).id;return t&&e!==void 0?t+"-"+e:e}function Xx(e,t){E.useContext(Wh).strict}function Qx(e){const t=Gh(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function eT(e,t){if(typeof Proxy>"u")return gs;const n=new Map,r=(i,o)=>gs(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,gs(o,void 0,e,t)),n.get(o))})}const tT=(e,t)=>t.isSVG??oo(e)?new Dw(t):new Aw(t,{allowProjection:e!==E.Fragment});class nT extends ft{constructor(t){super(t),t.animationState||(t.animationState=zw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();zr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rT=0;class sT extends ft{constructor(){super(...arguments),this.id=rT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const iT={animation:{Feature:nT},exit:{Feature:sT}};function Zn(e){return{point:{x:e.pageX,y:e.pageY}}}const oT=e=>t=>Qi(t)&&e(t,Zn(t));function Tn(e,t,n,r){return Mn(e,t,oT(n),r)}const Qh=({current:e})=>e?e.ownerDocument.defaultView:null,Ol=(e,t)=>Math.abs(e-t);function aT(e,t){const n=Ol(e.x,t.x),r=Ol(e.y,t.y);return Math.sqrt(n**2+r**2)}const Nl=new Set(["auto","scroll"]);class ef{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=d=>{this.handleScroll(d.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=vs(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=aT(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:v}=d,{timestamp:b}=pe;this.history.push({...v,timestamp:b});const{onStart:w,onMove:m}=this.handlers;p||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ys(p,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:b}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=vs(d.type==="pointercancel"?this.lastMoveEventInfo:ys(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,w),v&&v(d,w)},!Qi(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Zn(t),c=ys(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=pe;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,vs(c,this.history)),this.removeListeners=zn(Tn(this.contextWindow,"pointermove",this.handlePointerMove),Tn(this.contextWindow,"pointerup",this.handlePointerUp),Tn(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(Nl.has(r.overflowX)||Nl.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),Y.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ut(this.updatePoint)}}function ys(e,t){return t?{point:t(e.point)}:e}function $l(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vs({point:e},t){return{point:e,delta:$l(e,tf(t)),offset:$l(e,lT(t)),velocity:cT(t,.1)}}function lT(e){return e[0]}function tf(e){return e[e.length-1]}function cT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=tf(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>et(t)));)n--;if(!r)return{x:0,y:0};const i=Ce(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function uT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Q(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Q(n,e,r.max):Math.min(e,n)),e}function Ll(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function hT(e,{top:t,left:n,bottom:r,right:s}){return{x:Ll(e.x,n,s),y:Ll(e.y,t,r)}}function zl(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function fT(e,t){return{x:zl(e.x,t.x),y:zl(e.y,t.y)}}function pT(e,t){let n=.5;const r=Te(e),s=Te(t);return s>r?n=Pn(t.min,t.max-r,e.min):r>s&&(n=Pn(e.min,e.max-s,t.min)),Ge(0,1,n)}function dT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ai=.35;function mT(e=ai){return e===!1?e=0:e===!0&&(e=ai),{x:Vl(e,"left","right"),y:Vl(e,"top","bottom")}}function Vl(e,t,n){return{min:jl(e,t),max:jl(e,n)}}function jl(e,t){return typeof e=="number"?e:e[t]||0}const gT=new WeakMap;class yT{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ce(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{n?(this.stopAnimation(),this.snapToCursor(Zn(h).point)):this.pauseAnimation()},o=(h,f)=>{this.stopAnimation();const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sw(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Re(b=>{let w=this.getAxisMotionValue(b).get()||0;if(We.test(w)){const{projection:m}=this.visualElement;if(m&&m.layout){const T=m.layout.layoutBox[b];T&&(w=Te(T)*(parseFloat(w)/100))}}this.originPoint[b]=w}),g&&Y.postRender(()=>g(h,f)),ei(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=vT(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(h,f)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Re(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ef(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Qh(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Y.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!rr(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=uT(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&gn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=hT(r.layoutBox,t):this.constraints=!1,this.elastic=mT(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Re(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=dT(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gn(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=xw(r,s.root,this.visualElement.getTransformPagePoint());let o=fT(s.layout.layoutBox,i);if(n){const a=n(vw(o));this.hasMutatedConstraints=!!a,a&&(o=Th(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Re(u=>{if(!rr(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,d=s?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ei(this.visualElement,t),r.start(qi(t,r,0,n,this.visualElement,!1))}stopAnimation(){Re(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Re(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Re(n=>{const{drag:r}=this.getProps();if(!rr(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Q(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gn(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Re(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=pT({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Re(o=>{if(!rr(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Q(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;gT.set(this.visualElement,this);const t=this.visualElement.current,n=Tn(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&!gh(l.target)&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gn(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Y.read(r);const o=Mn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Re(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ai,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function rr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function vT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bT extends ft{constructor(t){super(t),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new yT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zl=e=>(t,n)=>{e&&Y.postRender(()=>e(t,n))};class wT extends ft{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(t){this.session=new ef(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qh(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zl(t),onStart:Zl(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Y.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Tn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let bs=!1;class xT extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),bs&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,bs=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Y.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xi.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;bs=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nf(e){const[t,n]=Uh(),r=E.useContext(Ii);return z.jsx(xT,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(Jh),isPresent:t,safeToRemove:n})}const TT={pan:{Feature:wT},drag:{Feature:bT,ProjectionNode:Bh,MeasureLayout:nf}};function Fl(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Y.postRender(()=>i(t,Zn(t)))}class _T extends ft{mount(){const{current:t}=this.node;t&&(this.unmount=iw(t,(n,r)=>(Fl(this.node,r,"Start"),s=>Fl(this.node,s,"End"))))}unmount(){}}class kT extends ft{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zn(Mn(this.node.current,"focus",()=>this.onFocus()),Mn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bl(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Y.postRender(()=>i(t,Zn(t)))}class ST extends ft{mount(){const{current:t}=this.node;t&&(this.unmount=lw(t,(n,r)=>(Bl(this.node,r,"Start"),(s,{success:i})=>Bl(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const li=new WeakMap,ws=new WeakMap,ET=e=>{const t=li.get(e.target);t&&t(e)},AT=e=>{e.forEach(ET)};function PT({root:e,...t}){const n=e||document;ws.has(n)||ws.set(n,{});const r=ws.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(AT,{root:e,...t})),r[s]}function IT(e,t,n){const r=PT(t);return li.set(e,n),r.observe(e),()=>{li.delete(e),r.unobserve(e)}}const RT={some:0,all:1};class CT extends ft{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:RT[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return IT(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(MT(t,n))&&this.startObserver()}unmount(){}}function MT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DT={inView:{Feature:CT},tap:{Feature:ST},focus:{Feature:kT},hover:{Feature:_T}},OT={layout:{ProjectionNode:Bh,MeasureLayout:nf}},NT={...iT,...DT,...TT,...OT},xs=eT(NT,tT),Ul={initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:20}},exit:{opacity:0,scale:.8,transition:{duration:.2}}},$T={initial:{opacity:0,y:50,scale:.7},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:200,damping:20,delay:.2}},exit:{opacity:0,y:-20,scale:.9,transition:{duration:.3}}};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:rf,setPrototypeOf:Wl,isFrozen:LT,getPrototypeOf:zT,getOwnPropertyDescriptor:VT}=Object;let{freeze:ke,seal:De,create:ci}=Object,{apply:ui,construct:hi}=typeof Reflect<"u"&&Reflect;ke||(ke=function(t){return t});De||(De=function(t){return t});ui||(ui=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return t.apply(n,s)});hi||(hi=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new t(...r)});const sr=Se(Array.prototype.forEach),jT=Se(Array.prototype.lastIndexOf),Gl=Se(Array.prototype.pop),on=Se(Array.prototype.push),ZT=Se(Array.prototype.splice),pr=Se(String.prototype.toLowerCase),Ts=Se(String.prototype.toString),_s=Se(String.prototype.match),an=Se(String.prototype.replace),FT=Se(String.prototype.indexOf),BT=Se(String.prototype.trim),ze=Se(Object.prototype.hasOwnProperty),ve=Se(RegExp.prototype.test),ln=UT(TypeError);function Se(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return ui(e,t,r)}}function UT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hi(e,n)}}function $(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pr;Wl&&Wl(e,null);let r=t.length;for(;r--;){let s=t[r];if(typeof s=="string"){const i=n(s);i!==s&&(LT(t)||(t[r]=i),s=i)}e[s]=!0}return e}function WT(e){for(let t=0;t<e.length;t++)ze(e,t)||(e[t]=null);return e}function Be(e){const t=ci(null);for(const[n,r]of rf(e))ze(e,n)&&(Array.isArray(r)?t[n]=WT(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Be(r):t[n]=r);return t}function cn(e,t){for(;e!==null;){const r=VT(e,t);if(r){if(r.get)return Se(r.get);if(typeof r.value=="function")return Se(r.value)}e=zT(e)}function n(){return null}return n}const Hl=ke(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ks=ke(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ss=ke(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),GT=ke(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Es=ke(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),HT=ke(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ql=ke(["#text"]),Yl=ke(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),As=ke(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kl=ke(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ir=ke(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qT=De(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YT=De(/<%[\w\W]*|[\w\W]*%>/gm),KT=De(/\$\{[\w\W]*/gm),JT=De(/^data-[\-\w.\u00B7-\uFFFF]+$/),XT=De(/^aria-[\-\w]+$/),sf=De(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),QT=De(/^(?:\w+script|data):/i),e_=De(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),of=De(/^html$/i),t_=De(/^[a-z][.\w]*(-[.\w]+)+$/i);var Jl=Object.freeze({__proto__:null,ARIA_ATTR:XT,ATTR_WHITESPACE:e_,CUSTOM_ELEMENT:t_,DATA_ATTR:JT,DOCTYPE_NAME:of,ERB_EXPR:YT,IS_ALLOWED_URI:sf,IS_SCRIPT_OR_DATA:QT,MUSTACHE_EXPR:qT,TMPLIT_EXPR:KT});const un={element:1,text:3,progressingInstruction:7,comment:8,document:9},n_=function(){return typeof window>"u"?null:window},r_=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Xl=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function af(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n_();const t=D=>af(D);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==un.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=e,p=l.prototype,g=cn(p,"cloneNode"),v=cn(p,"remove"),b=cn(p,"nextSibling"),w=cn(p,"childNodes"),m=cn(p,"parentNode");if(typeof o=="function"){const D=n.createElement("template");D.content&&D.content.ownerDocument&&(n=D.content.ownerDocument)}let T,k="";const{implementation:I,createNodeIterator:R,createDocumentFragment:A,getElementsByTagName:U}=n,{importNode:ue}=r;let G=Xl();t.isSupported=typeof rf=="function"&&typeof m=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:nt,ERB_EXPR:Jt,TMPLIT_EXPR:Pt,DATA_ATTR:Fn,ARIA_ATTR:ao,IS_SCRIPT_OR_DATA:oe,ATTR_WHITESPACE:ge,CUSTOM_ELEMENT:He}=Jl;let{IS_ALLOWED_URI:qe}=Jl,re=null;const lo=$({},[...Hl,...ks,...Ss,...Es,...ql]);let he=null;const co=$({},[...Yl,...As,...Kl,...ir]);let ne=Object.seal(ci(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xt=null,Zr=null;const It=Object.seal(ci(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let uo=!0,Fr=!0,ho=!1,fo=!0,Rt=!1,Bn=!0,pt=!1,Br=!1,Ur=!1,Ct=!1,Un=!1,Wn=!1,po=!0,mo=!1;const lf="user-content-";let Wr=!0,Qt=!1,Mt={},Ve=null;const Gr=$({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let go=null;const yo=$({},["audio","video","img","source","image","track"]);let Hr=null;const vo=$({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gn="http://www.w3.org/1998/Math/MathML",Hn="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Dt=Ye,qr=!1,Yr=null;const cf=$({},[Gn,Hn,Ye],Ts);let qn=$({},["mi","mo","mn","ms","mtext"]),Yn=$({},["annotation-xml"]);const uf=$({},["title","style","font","a","script"]);let en=null;const hf=["application/xhtml+xml","text/html"],ff="text/html";let ae=null,Ot=null;const pf=n.createElement("form"),bo=function(y){return y instanceof RegExp||y instanceof Function},Kr=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ot&&Ot===y)){if((!y||typeof y!="object")&&(y={}),y=Be(y),en=hf.indexOf(y.PARSER_MEDIA_TYPE)===-1?ff:y.PARSER_MEDIA_TYPE,ae=en==="application/xhtml+xml"?Ts:pr,re=ze(y,"ALLOWED_TAGS")?$({},y.ALLOWED_TAGS,ae):lo,he=ze(y,"ALLOWED_ATTR")?$({},y.ALLOWED_ATTR,ae):co,Yr=ze(y,"ALLOWED_NAMESPACES")?$({},y.ALLOWED_NAMESPACES,Ts):cf,Hr=ze(y,"ADD_URI_SAFE_ATTR")?$(Be(vo),y.ADD_URI_SAFE_ATTR,ae):vo,go=ze(y,"ADD_DATA_URI_TAGS")?$(Be(yo),y.ADD_DATA_URI_TAGS,ae):yo,Ve=ze(y,"FORBID_CONTENTS")?$({},y.FORBID_CONTENTS,ae):Gr,Xt=ze(y,"FORBID_TAGS")?$({},y.FORBID_TAGS,ae):Be({}),Zr=ze(y,"FORBID_ATTR")?$({},y.FORBID_ATTR,ae):Be({}),Mt=ze(y,"USE_PROFILES")?y.USE_PROFILES:!1,uo=y.ALLOW_ARIA_ATTR!==!1,Fr=y.ALLOW_DATA_ATTR!==!1,ho=y.ALLOW_UNKNOWN_PROTOCOLS||!1,fo=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Rt=y.SAFE_FOR_TEMPLATES||!1,Bn=y.SAFE_FOR_XML!==!1,pt=y.WHOLE_DOCUMENT||!1,Ct=y.RETURN_DOM||!1,Un=y.RETURN_DOM_FRAGMENT||!1,Wn=y.RETURN_TRUSTED_TYPE||!1,Ur=y.FORCE_BODY||!1,po=y.SANITIZE_DOM!==!1,mo=y.SANITIZE_NAMED_PROPS||!1,Wr=y.KEEP_CONTENT!==!1,Qt=y.IN_PLACE||!1,qe=y.ALLOWED_URI_REGEXP||sf,Dt=y.NAMESPACE||Ye,qn=y.MATHML_TEXT_INTEGRATION_POINTS||qn,Yn=y.HTML_INTEGRATION_POINTS||Yn,ne=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&bo(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&bo(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(Fr=!1),Un&&(Ct=!0),Mt&&(re=$({},ql),he=[],Mt.html===!0&&($(re,Hl),$(he,Yl)),Mt.svg===!0&&($(re,ks),$(he,As),$(he,ir)),Mt.svgFilters===!0&&($(re,Ss),$(he,As),$(he,ir)),Mt.mathMl===!0&&($(re,Es),$(he,Kl),$(he,ir))),y.ADD_TAGS&&(typeof y.ADD_TAGS=="function"?It.tagCheck=y.ADD_TAGS:(re===lo&&(re=Be(re)),$(re,y.ADD_TAGS,ae))),y.ADD_ATTR&&(typeof y.ADD_ATTR=="function"?It.attributeCheck=y.ADD_ATTR:(he===co&&(he=Be(he)),$(he,y.ADD_ATTR,ae))),y.ADD_URI_SAFE_ATTR&&$(Hr,y.ADD_URI_SAFE_ATTR,ae),y.FORBID_CONTENTS&&(Ve===Gr&&(Ve=Be(Ve)),$(Ve,y.FORBID_CONTENTS,ae)),y.ADD_FORBID_CONTENTS&&(Ve===Gr&&(Ve=Be(Ve)),$(Ve,y.ADD_FORBID_CONTENTS,ae)),Wr&&(re["#text"]=!0),pt&&$(re,["html","head","body"]),re.table&&($(re,["tbody"]),delete Xt.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw ln('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ln('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=y.TRUSTED_TYPES_POLICY,k=T.createHTML("")}else T===void 0&&(T=r_(d,s)),T!==null&&typeof k=="string"&&(k=T.createHTML(""));ke&&ke(y),Ot=y}},wo=$({},[...ks,...Ss,...GT]),xo=$({},[...Es,...HT]),df=function(y){let _=m(y);(!_||!_.tagName)&&(_={namespaceURI:Dt,tagName:"template"});const C=pr(y.tagName),K=pr(_.tagName);return Yr[y.namespaceURI]?y.namespaceURI===Hn?_.namespaceURI===Ye?C==="svg":_.namespaceURI===Gn?C==="svg"&&(K==="annotation-xml"||qn[K]):!!wo[C]:y.namespaceURI===Gn?_.namespaceURI===Ye?C==="math":_.namespaceURI===Hn?C==="math"&&Yn[K]:!!xo[C]:y.namespaceURI===Ye?_.namespaceURI===Hn&&!Yn[K]||_.namespaceURI===Gn&&!qn[K]?!1:!xo[C]&&(uf[C]||!wo[C]):!!(en==="application/xhtml+xml"&&Yr[y.namespaceURI]):!1},je=function(y){on(t.removed,{element:y});try{m(y).removeChild(y)}catch{v(y)}},dt=function(y,_){try{on(t.removed,{attribute:_.getAttributeNode(y),from:_})}catch{on(t.removed,{attribute:null,from:_})}if(_.removeAttribute(y),y==="is")if(Ct||Un)try{je(_)}catch{}else try{_.setAttribute(y,"")}catch{}},To=function(y){let _=null,C=null;if(Ur)y="<remove></remove>"+y;else{const se=_s(y,/^[\r\n\t ]+/);C=se&&se[0]}en==="application/xhtml+xml"&&Dt===Ye&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");const K=T?T.createHTML(y):y;if(Dt===Ye)try{_=new f().parseFromString(K,en)}catch{}if(!_||!_.documentElement){_=I.createDocument(Dt,"template",null);try{_.documentElement.innerHTML=qr?k:K}catch{}}const de=_.body||_.documentElement;return y&&C&&de.insertBefore(n.createTextNode(C),de.childNodes[0]||null),Dt===Ye?U.call(_,pt?"html":"body")[0]:pt?_.documentElement:de},_o=function(y){return R.call(y.ownerDocument||y,y,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Jr=function(y){return y instanceof h&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof u)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},ko=function(y){return typeof a=="function"&&y instanceof a};function Ke(D,y,_){sr(D,C=>{C.call(t,y,_,Ot)})}const So=function(y){let _=null;if(Ke(G.beforeSanitizeElements,y,null),Jr(y))return je(y),!0;const C=ae(y.nodeName);if(Ke(G.uponSanitizeElement,y,{tagName:C,allowedTags:re}),Bn&&y.hasChildNodes()&&!ko(y.firstElementChild)&&ve(/<[/\w!]/g,y.innerHTML)&&ve(/<[/\w!]/g,y.textContent)||y.nodeType===un.progressingInstruction||Bn&&y.nodeType===un.comment&&ve(/<[/\w]/g,y.data))return je(y),!0;if(!(It.tagCheck instanceof Function&&It.tagCheck(C))&&(!re[C]||Xt[C])){if(!Xt[C]&&Ao(C)&&(ne.tagNameCheck instanceof RegExp&&ve(ne.tagNameCheck,C)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(C)))return!1;if(Wr&&!Ve[C]){const K=m(y)||y.parentNode,de=w(y)||y.childNodes;if(de&&K){const se=de.length;for(let Ee=se-1;Ee>=0;--Ee){const Je=g(de[Ee],!0);Je.__removalCount=(y.__removalCount||0)+1,K.insertBefore(Je,b(y))}}}return je(y),!0}return y instanceof l&&!df(y)||(C==="noscript"||C==="noembed"||C==="noframes")&&ve(/<\/no(script|embed|frames)/i,y.innerHTML)?(je(y),!0):(Rt&&y.nodeType===un.text&&(_=y.textContent,sr([nt,Jt,Pt],K=>{_=an(_,K," ")}),y.textContent!==_&&(on(t.removed,{element:y.cloneNode()}),y.textContent=_)),Ke(G.afterSanitizeElements,y,null),!1)},Eo=function(y,_,C){if(po&&(_==="id"||_==="name")&&(C in n||C in pf))return!1;if(!(Fr&&!Zr[_]&&ve(Fn,_))){if(!(uo&&ve(ao,_))){if(!(It.attributeCheck instanceof Function&&It.attributeCheck(_,y))){if(!he[_]||Zr[_]){if(!(Ao(y)&&(ne.tagNameCheck instanceof RegExp&&ve(ne.tagNameCheck,y)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(y))&&(ne.attributeNameCheck instanceof RegExp&&ve(ne.attributeNameCheck,_)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(_,y))||_==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&ve(ne.tagNameCheck,C)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(C))))return!1}else if(!Hr[_]){if(!ve(qe,an(C,ge,""))){if(!((_==="src"||_==="xlink:href"||_==="href")&&y!=="script"&&FT(C,"data:")===0&&go[y])){if(!(ho&&!ve(oe,an(C,ge,"")))){if(C)return!1}}}}}}}return!0},Ao=function(y){return y!=="annotation-xml"&&_s(y,He)},Po=function(y){Ke(G.beforeSanitizeAttributes,y,null);const{attributes:_}=y;if(!_||Jr(y))return;const C={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he,forceKeepAttr:void 0};let K=_.length;for(;K--;){const de=_[K],{name:se,namespaceURI:Ee,value:Je}=de,Nt=ae(se),Xr=Je;let fe=se==="value"?Xr:BT(Xr);if(C.attrName=Nt,C.attrValue=fe,C.keepAttr=!0,C.forceKeepAttr=void 0,Ke(G.uponSanitizeAttribute,y,C),fe=C.attrValue,mo&&(Nt==="id"||Nt==="name")&&(dt(se,y),fe=lf+fe),Bn&&ve(/((--!?|])>)|<\/(style|title|textarea)/i,fe)){dt(se,y);continue}if(Nt==="attributename"&&_s(fe,"href")){dt(se,y);continue}if(C.forceKeepAttr)continue;if(!C.keepAttr){dt(se,y);continue}if(!fo&&ve(/\/>/i,fe)){dt(se,y);continue}Rt&&sr([nt,Jt,Pt],Ro=>{fe=an(fe,Ro," ")});const Io=ae(y.nodeName);if(!Eo(Io,Nt,fe)){dt(se,y);continue}if(T&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Ee)switch(d.getAttributeType(Io,Nt)){case"TrustedHTML":{fe=T.createHTML(fe);break}case"TrustedScriptURL":{fe=T.createScriptURL(fe);break}}if(fe!==Xr)try{Ee?y.setAttributeNS(Ee,se,fe):y.setAttribute(se,fe),Jr(y)?je(y):Gl(t.removed)}catch{dt(se,y)}}Ke(G.afterSanitizeAttributes,y,null)},mf=function D(y){let _=null;const C=_o(y);for(Ke(G.beforeSanitizeShadowDOM,y,null);_=C.nextNode();)Ke(G.uponSanitizeShadowNode,_,null),So(_),Po(_),_.content instanceof i&&D(_.content);Ke(G.afterSanitizeShadowDOM,y,null)};return t.sanitize=function(D){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=null,C=null,K=null,de=null;if(qr=!D,qr&&(D="<!-->"),typeof D!="string"&&!ko(D))if(typeof D.toString=="function"){if(D=D.toString(),typeof D!="string")throw ln("dirty is not a string, aborting")}else throw ln("toString is not a function");if(!t.isSupported)return D;if(Br||Kr(y),t.removed=[],typeof D=="string"&&(Qt=!1),Qt){if(D.nodeName){const Je=ae(D.nodeName);if(!re[Je]||Xt[Je])throw ln("root node is forbidden and cannot be sanitized in-place")}}else if(D instanceof a)_=To("<!---->"),C=_.ownerDocument.importNode(D,!0),C.nodeType===un.element&&C.nodeName==="BODY"||C.nodeName==="HTML"?_=C:_.appendChild(C);else{if(!Ct&&!Rt&&!pt&&D.indexOf("<")===-1)return T&&Wn?T.createHTML(D):D;if(_=To(D),!_)return Ct?null:Wn?k:""}_&&Ur&&je(_.firstChild);const se=_o(Qt?D:_);for(;K=se.nextNode();)So(K),Po(K),K.content instanceof i&&mf(K.content);if(Qt)return D;if(Ct){if(Un)for(de=A.call(_.ownerDocument);_.firstChild;)de.appendChild(_.firstChild);else de=_;return(he.shadowroot||he.shadowrootmode)&&(de=ue.call(r,de,!0)),de}let Ee=pt?_.outerHTML:_.innerHTML;return pt&&re["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&ve(of,_.ownerDocument.doctype.name)&&(Ee="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+Ee),Rt&&sr([nt,Jt,Pt],Je=>{Ee=an(Ee,Je," ")}),T&&Wn?T.createHTML(Ee):Ee},t.setConfig=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Kr(D),Br=!0},t.clearConfig=function(){Ot=null,Br=!1},t.isValidAttribute=function(D,y,_){Ot||Kr({});const C=ae(D),K=ae(y);return Eo(C,K,_)},t.addHook=function(D,y){typeof y=="function"&&on(G[D],y)},t.removeHook=function(D,y){if(y!==void 0){const _=jT(G[D],y);return _===-1?void 0:ZT(G[D],_,1)[0]}return Gl(G[D])},t.removeHooks=function(D){G[D]=[]},t.removeAllHooks=function(){G=Xl()},t}var s_=af();const i_=e=>typeof window>"u"?e:s_.sanitize(e,{ALLOWED_TAGS:["p","br","strong","em","code","pre","a","ul","ol","li","blockquote"],ALLOWED_ATTR:["href","target","rel","class"],ALLOW_DATA_ATTR:!1,FORBID_TAGS:["script","style","iframe","object","embed","form","input","textarea","select","button"],FORBID_ATTR:["onerror","onload","onclick","onmouseover","onfocus","onblur","onchange","onsubmit"]});function o_(e){return e.parts.filter(t=>t.type==="text").map(t=>t.text).join("")}const a_=new gu({api:"/api/chat"});function h_(){const e=new V.Renderer;e.code=({text:p,lang:g})=>`<pre class="p-1.5 overflow-auto"><code class="${g?`language-${g}`:""} text-slate-700 whitespace-pre-wrap break-words text-xs">${p}</code></pre>`,e.link=({href:p,text:g})=>`<a href="${p}" target="_blank" rel="noopener noreferrer" class="text-indigo-700 underline underline-offset-2 transition duration-150 ease-in-out hover:text-black hover:underline">${g}</a>`,V.setOptions({renderer:e});const[t,n]=E.useState(""),r=E.useRef(null),{messages:s,sendMessage:i,status:o,error:a}=Wv({transport:a_,onError:p=>{console.error("Chat error:",p)}}),l=E.useRef(null);E.useEffect(()=>{l.current&&setTimeout(()=>{l.current.scrollTo({top:l.current.scrollHeight,behavior:"smooth"})},100)},[s]);const c=p=>{o==="ready"&&i({text:p})},u=p=>{const g=V.parse(p);return i_(g)},h=o==="streaming"||o==="submitted",f=h||t.trim()==="",d=p=>{p.preventDefault(),t.trim()&&o==="ready"&&(i({text:t}),n(""),setTimeout(()=>r.current?.focus(),0))};return z.jsxs("div",{className:"flex h-[600px] flex-col text-sm",children:[z.jsxs("div",{ref:l,className:"border-stone-200 flex-1 overflow-y-auto rounded-lg border bg-white/50 backdrop-blur-md p-4",children:[z.jsx(Rl,{initial:!1,mode:"popLayout",children:s.map(p=>z.jsx(xs.div,{variants:Ul,initial:"initial",animate:"animate",exit:"exit",className:`flex ${p.role==="user"?"justify-end":"justify-start"} mb-4`,children:z.jsx("div",{className:`${p.role==="user"?"rounded-full bg-blue-100 text-blue-700":"rounded-full bg-emerald-100 text-emerald-700"} max-w-xs rounded-lg px-2.5 py-1.5`,children:z.jsx("div",{dangerouslySetInnerHTML:{__html:u(o_(p))}})})},p.id))}),z.jsx(Rl,{children:s.length===0&&z.jsx(xs.div,{variants:$T,initial:"initial",animate:"animate",exit:"exit",className:"mb-4 flex justify-start",children:z.jsxs("div",{className:"max-w-xs rounded-lg bg-emerald-100 px-2.5 py-1.5 text-emerald-700",children:["Hi! I'm ",z.jsx("span",{className:"font-semibold",children:"Neha's AI persona"}),". Ask me anything about her or her work. I'll be happy to assist you."]})})}),a&&z.jsx(xs.div,{variants:Ul,initial:"initial",animate:"animate",className:"mb-4 flex justify-start",children:z.jsx("div",{className:"max-w-xs rounded-lg bg-red-100 px-2.5 py-1.5 text-red-700",children:"Sorry, something went wrong. Please try again."})})]}),z.jsxs("div",{className:"flex w-full justify-between gap-2 pt-4 text-xs overflow-x-auto",children:[z.jsx("button",{onClick:()=>c("What are Neha's interests?"),className:"whitespace-nowrap rounded-lg bg-rose-100 px-2.5 py-1.5 text-rose-700 transition duration-300 ease-in-out md:hover:scale-95 md:hover:bg-rose-200 md:hover:text-rose-900",disabled:h,children:"What are Neha's interests?"}),z.jsx("button",{onClick:()=>c("What is Neha's education?"),className:"whitespace-nowrap rounded-lg bg-violet-100 px-2.5 py-1.5 text-violet-700 transition duration-300 ease-in-out md:hover:scale-95 md:hover:bg-violet-200 md:hover:text-violet-900",disabled:h,children:"What is Neha's education?"}),z.jsx("button",{onClick:()=>c("What skills does Neha have?"),className:"whitespace-nowrap rounded-lg bg-amber-100 px-2.5 py-1.5 text-amber-700 transition duration-300 ease-in-out md:hover:scale-95 md:hover:bg-amber-200 md:hover:text-amber-900",disabled:h,children:"What skills does Neha have?"})]}),z.jsx("form",{onSubmit:d,className:"flex-none pt-4",children:z.jsxs("div",{className:"flex",children:[z.jsx("input",{ref:r,type:"text",value:t,onChange:p=>n(p.target.value),disabled:h,className:`border-stone-200 placeholder:text-stone-400 flex-1 rounded-l-full border border-r-0 bg-white/50 px-4 py-2.5 focus:ring-0 focus:outline-none active:focus:outline-none ${h?"cursor-not-allowed":"cursor-auto"}`,placeholder:"Ask about Neha or her work!"}),z.jsx("button",{type:"submit",disabled:f,"aria-label":"Send message",name:"send message",className:"border-stone-200 rounded-r-full border border-l-0 px-1.5 focus:ring-0 focus:outline-none active:focus:outline-none bg-white/50",children:z.jsx("div",{className:`rounded-full p-2 ${f?"bg-stone-300 transition duration-300 ease-in-out":"bg-stone-800 transition duration-300 ease-in-out md:hover:scale-95"}`,children:z.jsx(eb,{className:`${f?"text-stone-500 transition duration-150 ease-linear":"text-white transition duration-150 ease-linear"}`})})})]})}),z.jsx("p",{className:"text-stone-500 pt-4 text-sm text-center",children:"Everyone makes mistakes, including this AI."})]})}export{h_ as default};
